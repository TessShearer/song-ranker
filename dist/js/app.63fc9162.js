(()=>{"use strict";var e={806:(e,n,t)=>{t(3792),t(3362),t(9085),t(9391);var a=t(9322),r=t(908),l=t(388),u=t(641),o=t(9841),i=t(2644),s=t(6278),c=(t(8706),t(5220)),d={class:"icon icon-shape icon-sm text-center d-flex align-items-center justify-content-center"},v=["src"];const m={__name:"SidenavItem",props:{to:{type:String,required:!0},navText:{type:String,required:!0},path:{type:String,required:!0},background:{type:String,required:!0},text:{type:String,required:!0}},setup:function(e){var n=(0,s.Pj)(),t=(0,u.EW)(function(){return n.state.isRTL}),a=function(){return n.commit("sidebarMinimize")},r=function(){window.innerWidth<1200&&a()};return function(n,a){var l=(0,u.g2)("router-link");return(0,u.uX)(),(0,u.Wv)(l,{to:e.to,class:"nav-link my-2 rounded",style:(0,i.Tr)({backgroundColor:e.background,color:e.text}),onClick:r},{default:(0,u.k6)(function(){return[(0,u.Lk)("div",d,[(0,u.Lk)("img",{src:e.path,alt:"Theme Image",class:"rounded-circle",style:{"min-width":"4vh","min-height":"4vh","object-fit":"cover"}},null,8,v)]),(0,u.Lk)("span",{class:(0,i.C4)(["nav-link-text",t.value?" me-1":"ms-1"])},(0,i.v_)(e.navText),3)]}),_:1},8,["to","style"])}}},f=m,b=f;var k=t(8933),h=(0,k.UU)("https://sfwljugwcxaakaolslzf.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InNmd2xqdWd3Y3hhYWthb2xzbHpmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTEzNzYzNTMsImV4cCI6MjA2Njk1MjM1M30.LlHgDIE1uZAhUyY0g7mA_nnY__0-GBSGOXJTz3UlW7g"),p={class:"collapse navbar-collapse w-auto h-auto h-100",id:"sidenav-collapse-main"},g={class:"navbar-nav"},y={class:"nav-item"},w=(0,u.Lk)("i",{class:"ni ni-single-02 text-dark text-sm opacity-10"},null,-1);const _={__name:"SidenavList",setup:function(e){var n=(0,s.Pj)(),t=(0,u.EW)(function(){return n.state.isRTL}),a=(0,o.KR)([]),d=(0,o.KR)(null),v=(0,o.KR)(null),m=function(){var e=(0,c.lq)(),n=e.path.split("/");return n[1]+(n[2]?"/".concat(n[2]):"")};return(0,u.sV)((0,l.A)((0,r.A)().m(function e(){var n,t,l,u,o,i;return(0,r.A)().w(function(e){while(1)switch(e.n){case 0:return e.n=1,h.auth.getUser();case 1:if(n=e.v,t=n.data,l=n.error,!l&&t.user){e.n=2;break}return d.value="Could not retrieve user.",e.a(2);case 2:return v.value=t.user,e.n=3,h.from("members").select("\n      *,\n      themes (\n        image,\n        light_one,\n        dark_one\n      )\n    ").or("is_private.eq.false,member_id.eq.".concat(v.value.id));case 3:u=e.v,o=u.data,i=u.error,i?d.value=i.message:a.value=o;case 4:return e.a(2)}},e)}))),function(e,n){return(0,u.uX)(),(0,u.CE)("div",p,[(0,u.Lk)("ul",g,[((0,u.uX)(!0),(0,u.CE)(u.FK,null,(0,u.pI)(a.value,function(e){var n,t,a,r;return(0,u.uX)(),(0,u.CE)("li",{class:"nav-item",key:e.music_id},[(0,u.bF)(b,{to:"/members/".concat(e.music_id,"/tables"),navText:e.member_id===(null===(n=v.value)||void 0===n?void 0:n.id)?"".concat(e.member_name," (You)"):e.member_name,path:null===(t=e.themes)||void 0===t?void 0:t.image,background:null===(a=e.themes)||void 0===a?void 0:a.light_one,text:null===(r=e.themes)||void 0===r?void 0:r.dark_one,class:(0,i.C4)(m()==="members/".concat(e.music_id,"/tables")?"active":"")},null,8,["to","navText","path","background","text","class"])])}),128)),(0,u.Lk)("li",y,[(0,u.bF)(b,{to:"/profile",color:"white",path:"/themes/settings.jpg",text:"black",class:(0,i.C4)("profile"===m()?"active":""),navText:t.value?"حساب تعريفي":"Edit Settings"},{icon:(0,u.k6)(function(){return[w]}),_:1},8,["path","class","navText"])])])])}}},L=_,C=L,x=t.p+"img/tess.e1447082.jpg";var A={class:"min-height-300 position-absolute w-100"},E={class:"m-0 navbar-brand flex d-flex"},X=["src"],T=(0,u.Lk)("p",{class:"px-3 mb-0 text-wrap logo-text text-one"},"Hi! I'm Tess and I made this.",-1),S=(0,u.Lk)("hr",{class:"mt-0 horizontal dark"},null,-1),R={key:1,class:"px-3 text-muted"};const K={__name:"indexSidenav",setup:function(e){var n=(0,s.Pj)(),t=(0,u.EW)(function(){return n.state.isRTL}),r=(0,u.EW)(function(){return n.state.layout}),l=(0,u.EW)(function(){return n.state.sidebarType}),c=(0,u.EW)(function(){return n.state.member}),d=(0,u.EW)(function(){return!!c.value});return function(e,n){return(0,u.uX)(),(0,u.CE)(u.FK,null,[(0,u.bo)((0,u.Lk)("div",A,null,512),[[a.aG,"default"===r.value]]),(0,u.Lk)("aside",{class:(0,i.C4)(["my-3 overflow-auto border-0 sidenav navbar navbar-vertical navbar-expand-xs border-radius-xl","".concat(t.value?"me-3 rotate-caret fixed-end":"fixed-start ms-3","    \n      ").concat("landing"===r.value?"bg-transparent shadow-none":" "," ").concat(l.value)]),id:"sidenav-main"},[(0,u.Lk)("div",E,[(0,u.Lk)("img",{src:(0,o.R1)(x),alt:"Tess",class:"rounded-circle",style:{"min-width":"8vh","min-height":"8vh","object-fit":"cover"}},null,8,X),T]),S,d.value?((0,u.uX)(),(0,u.Wv)(C,{key:0})):((0,u.uX)(),(0,u.CE)("div",R,"Welcome! Set up your member profile to get started."))],2)],64)}}},I=K,W=I;t(4114);var V={class:"px-3 py-1 container-fluid d-flex justify-content-between align-items-center"},j=(0,u.Lk)("i",{class:"fas fa-bars"},null,-1),Q=[j],U=["src"],q=(0,u.Lk)("li",null,[(0,u.Lk)("hr",{class:"dropdown-divider"})],-1),F={class:"m-2 p-1 rounded"},M=(0,u.Lk)("div",{class:"icon icon-shape icon-sm text-center d-flex align-items-center justify-content-center"},[(0,u.Lk)("img",{src:"/themes/settings.jpg",alt:"Settings",class:"rounded-circle",style:{"min-width":"4vh","min-height":"4vh","object-fit":"cover"}})],-1),P={class:"d-none d-lg-block"},N={class:"mb-0"};const O={__name:"NavbarNavbar",setup:function(e){var n=(0,s.Pj)(),t=(0,c.rd)(),a=(0,u.EW)(function(){return n.state.isRTL}),d=(0,u.EW)(function(){return n.state.user}),v=(0,o.KR)(null),m=(0,o.KR)([]),f=(0,u.EW)(function(){return n.state.theme}),b=(0,o.KR)(!1),k=(0,u.EW)(function(){var e,n;return(null===(e=d.value)||void 0===e||null===(e=e.user_metadata)||void 0===e?void 0:e.full_name)||(null===(n=d.value)||void 0===n?void 0:n.email)||"Guest"}),p=(0,o.KR)(null);(0,u.wB)(d,function(){var e=(0,l.A)((0,r.A)().m(function e(n){var t,a,l;return(0,r.A)().w(function(e){while(1)switch(e.n){case 0:if(null!==n&&void 0!==n&&n.id){e.n=1;break}return e.a(2);case 1:return e.n=2,h.from("members").select("\n      *,\n      themes (\n        image,\n        light_one,\n        dark_one\n      )\n    ").or("is_private.eq.false,member_id.eq.".concat(n.id));case 2:t=e.v,a=t.data,l=t.error,l?v.value=l.message:m.value=a;case 3:return e.a(2)}},e)}));return function(n){return e.apply(this,arguments)}}(),{immediate:!0});var g=function(){b.value=!b.value},y=function(e){p.value&&!p.value.contains(e.target)&&(b.value=!1)};(0,u.sV)(function(){document.addEventListener("click",y)}),(0,u.hi)(function(){document.removeEventListener("click",y)});var w=function(){var e=(0,l.A)((0,r.A)().m(function e(){return(0,r.A)().w(function(e){while(1)switch(e.n){case 0:return e.n=1,h.auth.signOut();case 1:n.commit("clearAuth"),t.push("/signin");case 2:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}();return function(e,n){var t,r,l,o,s,c=(0,u.g2)("router-link");return(0,u.uX)(),(0,u.CE)("nav",{class:(0,i.C4)(["navbar navbar-main navbar-expand-lg px-0 m-4 shadow border-radius-xl",[a.value?"top-0 position-sticky z-index-sticky":"","position-sticky w-90"]]),style:(0,i.Tr)({backgroundColor:(null===(t=f.value)||void 0===t?void 0:t.light_one)||"#ffffff",zIndex:1050}),id:"navbarBlur","data-scroll":"true"},[(0,u.Lk)("div",V,[(0,u.Lk)("div",{class:"d-xl-none position-relative",ref_key:"dropdownRef",ref:p},[(0,u.Lk)("button",{class:"btn btn-outline my-auto",onClick:g},Q),b.value?((0,u.uX)(),(0,u.CE)("ul",{key:0,class:"position-absolute mt-2 shadow rounded dropdown-menu d-block",style:(0,i.Tr)([{left:"0","z-index":"2000","min-width":"200px"},{backgroundColor:(null===(r=f.value)||void 0===r?void 0:r.light_one)||"#fff",color:null===(l=f.value)||void 0===l?void 0:l.dark_one}])},[((0,u.uX)(!0),(0,u.CE)(u.FK,null,(0,u.pI)(m.value,function(e){var n,t;return(0,u.uX)(),(0,u.CE)("li",{class:"m-2 p-1 rounded",key:e.music_id,style:(0,i.Tr)({backgroundColor:(null===e||void 0===e||null===(n=e.themes)||void 0===n?void 0:n.light_one)||"#fff",color:null===e||void 0===e||null===(t=e.themes)||void 0===t?void 0:t.dark_one})},[(0,u.bF)(c,{class:"dropdown-item d-flex align-items-center gap-2",to:"/members/".concat(e.music_id,"/tables")},{default:(0,u.k6)(function(){var n,t,a;return[(0,u.Lk)("img",{src:null===e||void 0===e||null===(n=e.themes)||void 0===n?void 0:n.image,alt:"Theme Artist",class:"rounded-circle",style:{width:"32px",height:"32px","object-fit":"cover"}},null,8,U),(0,u.Lk)("span",{style:(0,i.Tr)({color:null===e||void 0===e||null===(t=e.themes)||void 0===t?void 0:t.dark_one})},(0,i.v_)(e.member_id===(null===(a=d.value)||void 0===a?void 0:a.id)?"".concat(e.member_name," (You)"):e.member_name),5)]}),_:2},1032,["to"])],4)}),128)),q,(0,u.Lk)("li",F,[(0,u.bF)(c,{class:"dropdown-item d-flex align-items-center gap-2",to:"/profile"},{default:(0,u.k6)(function(){var e;return[M,(0,u.Lk)("span",{style:(0,i.Tr)({color:null===(e=f.value)||void 0===e?void 0:e.dark_one})}," Profile",4)]}),_:1})])],4)):(0,u.Q3)("",!0)],512),(0,u.Lk)("div",P,[(0,u.Lk)("h6",N,"Welcome, "+(0,i.v_)(k.value),1)]),(0,u.Lk)("div",null,[(0,u.Lk)("button",{class:"btn btn-outline-info btn-sm my-1 mx-4",style:(0,i.Tr)({borderColor:(null===(o=f.value)||void 0===o?void 0:o.dark_two)||"#17a2b8",color:(null===(s=f.value)||void 0===s?void 0:s.dark_two)||"#17a2b8"}),onClick:w}," Logout ",4)])])],6)}}},z=O,B=z;var D={class:"py-3 footer"},Y={class:"container-fluid"},J={class:"row align-items-center justify-content-lg-between"},$=(0,u.Lk)("div",{class:"mb-4 col-lg-6 mb-lg-0"},null,-1),G={class:"col-lg-6"},H={class:"nav nav-footer justify-content-center justify-content-lg-end"},Z={class:"nav-item"};const ee={__name:"FooterExample",setup:function(e){var n=(0,s.Pj)(),t=(0,u.EW)(function(){return n.state.user}),a=(0,u.EW)(function(){return n.state.member}),c=(0,o.KR)(null);return(0,u.sV)((0,l.A)((0,r.A)().m(function e(){var l,u,o,i,s,d;return(0,r.A)().w(function(e){while(1)switch(e.n){case 0:if(t.value){e.n=2;break}return e.n=1,h.auth.getUser();case 1:l=e.v,u=l.data,null!==u&&void 0!==u&&u.user&&n.commit("setUser",u.user);case 2:if(a.value){e.n=4;break}return e.n=3,h.from("members").select("*").eq("member_id",null===(o=t.value)||void 0===o?void 0:o.id).single();case 3:i=e.v,s=i.data,d=i.error,s?n.commit("setMember",s):d&&(c.value=d.message);case 4:return e.a(2)}},e)}))),function(e,n){var t;return(0,u.uX)(),(0,u.CE)("footer",D,[(0,u.Lk)("div",Y,[(0,u.Lk)("div",J,[$,(0,u.Lk)("div",G,[(0,u.Lk)("ul",H,[(0,u.Lk)("li",Z,[(0,u.Lk)("a",{href:"www.github.com/TessShearer",class:"nav-link text-muted",target:"_blank",style:(0,i.Tr)({color:(null===(t=e.member)||void 0===t||null===(t=t.themes)||void 0===t?void 0:t.light_one)||"#f5f5f5"})},"Tess Shearer - Github",4)])])])])])])}}},ne=ee,te=ne;var ae={class:"landing-bg h-100 bg-gradient-primary position-fixed w-100"},re={class:"main-content position-relative max-height-vh-100 h-100 border-radius-lg"};const le={__name:"App",setup:function(e){var n=(0,s.Pj)(),t=(0,u.EW)(function(){return n.state.isNavFixed}),d=(0,u.EW)(function(){return n.state.darkMode}),v=(0,u.EW)(function(){return n.state.isAbsolute}),m=(0,u.EW)(function(){return n.state.showSidenav}),f=(0,u.EW)(function(){return n.state.layout}),b=(0,u.EW)(function(){return n.state.showNavbar}),k=(0,u.EW)(function(){return n.state.showFooter}),p=(0,u.EW)(function(){return n.state.theme}),g=(0,c.lq)(),y=(0,u.EW)(function(){return{"position-sticky bg-white left-auto top-2 z-index-sticky":t.value&&!d.value,"position-sticky bg-default left-auto top-2 z-index-sticky":t.value&&d.value,"position-absolute px-4 mx-0 w-100 z-index-2":v.value,"px-0 mx-4":!v.value}});return(0,u.sV)((0,l.A)((0,r.A)().m(function e(){var t,a;return(0,r.A)().w(function(e){while(1)switch(e.n){case 0:if(n.state.user){e.n=2;break}return e.n=1,h.auth.getSession();case 1:if(t=e.v,a=t.data.session,!a){e.n=2;break}return e.n=2,n.dispatch("fetchUser");case 2:return e.a(2)}},e)}))),(0,u.wB)(p,function(e){null!==e&&void 0!==e&&e.dark_one?document.body.style.backgroundColor=e.dark_one:document.body.style.backgroundColor=""},{immediate:!0}),function(e,n){var t=(0,u.g2)("router-view");return(0,u.uX)(),(0,u.CE)(u.FK,null,[(0,u.bo)((0,u.Lk)("div",ae,null,512),[[a.aG,"landing"===f.value]]),m.value?((0,u.uX)(),(0,u.Wv)(W,{key:0})):(0,u.Q3)("",!0),(0,u.Lk)("main",re,[b.value&&!(0,o.R1)(g).meta.hideNavbar?((0,u.uX)(),(0,u.Wv)(B,{key:0,class:(0,i.C4)([y.value])},null,8,["class"])):(0,u.Q3)("",!0),(0,u.bF)(t),(0,u.bo)((0,u.bF)(te,null,null,512),[[a.aG,k.value]])])],64)}}},ue=le,oe=ue,ie=(0,s.y$)({state:{hideConfigButton:!1,isPinned:!1,showConfig:!1,sidebarType:"bg-white",isRTL:!1,mcolor:"",darkMode:!1,isNavFixed:!1,isAbsolute:!1,showNavs:!0,showSidenav:!0,showNavbar:!0,showFooter:!0,showMain:!0,layout:"default",user:null,member:null,theme:null,themeSource:"self"},mutations:{setMobileSidenav:function(e,n){e.showMobileSidenav=n},sidebarMinimize:function(e){var n=document.querySelector("#app");e.isPinned?(n.classList.add("g-sidenav-hidden"),n.classList.remove("g-sidenav-pinned"),e.isPinned=!1):(n.classList.add("g-sidenav-pinned"),n.classList.remove("g-sidenav-hidden"),e.isPinned=!0)},sidebarType:function(e,n){e.sidebarType=n},navbarFixed:function(e){e.isNavFixed=!e.isNavFixed},setTheme:function(e,n){e.theme=n},setThemeSource:function(e,n){e.themeSource=n},setUser:function(e,n){e.user=n},setMember:function(e,n){e.member=n,e.theme=(null===n||void 0===n?void 0:n.themes)||null},clearAuth:function(e){e.user=null,e.member=null,e.theme=null,e.themeSource="self"}},actions:{toggleSidebarColor:function(e,n){var t=e.commit;t("sidebarType",n)},fetchUser:function(e){return(0,l.A)((0,r.A)().m(function n(){var t,a,l,u,o,i,s;return(0,r.A)().w(function(n){while(1)switch(n.n){case 0:return t=e.commit,n.n=1,h.auth.getUser();case 1:if(a=n.v,l=a.data,u=a.error,u||null===l||void 0===l||!l.user){n.n=3;break}return t("setUser",l.user),n.n=2,h.from("members").select("*, themes(*)").eq("member_id",l.user.id).single();case 2:o=n.v,i=o.data,s=o.error,!s&&i&&t("setMember",i);case 3:return n.a(2)}},n)}))()},logout:function(e){return(0,l.A)((0,r.A)().m(function n(){var t;return(0,r.A)().w(function(n){while(1)switch(n.n){case 0:return t=e.commit,n.n=1,h.auth.signOut();case 1:t("clearAuth");case 2:return n.a(2)}},n)}))()}},getters:{isLoggedIn:function(e){return!!e.user}}});t(2062),t(2010),t(6099),t(8992),t(1454),t(2892),t(2762);var se={class:"modal fade show d-block",tabindex:"-1",style:{background:"rgba(0,0,0,0.5)"}},ce={class:"modal-dialog modal-dialog-centered"},de={class:"modal-content p-4"},ve=(0,u.Lk)("h4",{class:"mb-3"},"Add New Artist",-1),me={class:"mb-3"},fe=(0,u.Lk)("label",{class:"form-label"},"Artist Name:",-1),be={class:"d-flex justify-content-between"},ke={key:0,class:"text-danger mt-3"},he={key:1,class:"text-success mt-3"};const pe={__name:"ArtistAddCard",props:{memberMusicId:{type:Number,required:!0}},emits:["cancel","added"],setup:function(e,n){var t=n.emit,s=t,c=e,d=(0,o.KR)(""),v=(0,o.KR)(""),m=(0,o.KR)(""),f=function(){var e=(0,l.A)((0,r.A)().m(function e(){var n,t;return(0,r.A)().w(function(e){while(1)switch(e.n){case 0:if(v.value="",m.value="",d.value.trim()){e.n=1;break}return v.value="Please enter an artist name.",e.a(2);case 1:return e.n=2,h.from("artists").insert([{name:d.value.trim(),member_id:c.memberMusicId}]);case 2:n=e.v,t=n.error,t?v.value=t.message:(m.value="Artist added successfully!",s("added"));case 3:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}();return function(e,n){return(0,u.uX)(),(0,u.CE)("div",se,[(0,u.Lk)("div",ce,[(0,u.Lk)("div",de,[ve,(0,u.Lk)("div",me,[fe,(0,u.bo)((0,u.Lk)("input",{"onUpdate:modelValue":n[0]||(n[0]=function(e){return d.value=e}),type:"text",class:"form-control",placeholder:"e.g. Taylor Swift"},null,512),[[a.Jo,d.value]])]),(0,u.Lk)("div",be,[(0,u.Lk)("button",{class:"btn btn-outline-secondary",onClick:n[1]||(n[1]=function(n){return e.$emit("cancel")})},"Cancel"),(0,u.Lk)("button",{class:"btn btn-secondary",onClick:f},"Add Artist")]),v.value?((0,u.uX)(),(0,u.CE)("div",ke,(0,i.v_)(v.value),1)):(0,u.Q3)("",!0),m.value?((0,u.uX)(),(0,u.CE)("div",he,(0,i.v_)(m.value),1)):(0,u.Q3)("",!0)])])])}}},ge=pe,ye=ge;var we=function(e){return(0,u.Qi)("data-v-1610f33e"),e=e(),(0,u.jt)(),e},_e={key:0,class:"mb-3"},Le={class:"card-body px-0 pt-0 pb-2"},Ce={class:"table-responsive p-0 mx-2 d-none d-md-block"},xe={class:"table align-items-center mb-0"},Ae=we(function(){return(0,u.Lk)("th",null,"Rankings",-1)}),Ee={key:0,class:"text-center"},Xe=we(function(){return(0,u.Lk)("td",{colspan:"4",class:"py-4"},[(0,u.Lk)("em",null,"Loading artists...")],-1)}),Te=[Xe],Se=["onClick"],Re={key:1},Ke=we(function(){return(0,u.Lk)("td",{colspan:"4",class:"text-center py-3 text-muted"},"No artists found.",-1)}),Ie=[Ke],We={class:"d-block d-md-none px-3"},Ve={key:0,class:"text-center py-4"},je=we(function(){return(0,u.Lk)("em",null,"Loading artists...",-1)}),Qe=[je],Ue={key:1,class:"text-center text-muted py-3"},qe={key:2},Fe={style:{"font-size":"0.85rem"},class:"text-muted"},Me=we(function(){return(0,u.Lk)("br",null,null,-1)}),Pe=["onClick"];const Ne={__name:"ArtistsTable",props:{memberMusicId:String,theme:Object,isOwner:Boolean},setup:function(e){var n=e,t=(0,o.KR)([]),a=(0,o.KR)(null),s=(0,o.KR)(!1),c=(0,o.KR)(!1),d=(0,u.EW)(function(){var e,t;return{backgroundColor:(null===(e=n.theme)||void 0===e?void 0:e.dark_two)||"#198754",color:(null===(t=n.theme)||void 0===t?void 0:t.light_one)||"#fff"}}),v=(0,u.EW)(function(){var e;return(null===(e=n.theme)||void 0===e?void 0:e.dark_one)||"#000"}),m=(0,u.EW)(function(){var e;return(null===(e=n.theme)||void 0===e?void 0:e.light_one)||"#fff"});(0,u.sV)(function(){n.memberMusicId&&f()}),(0,u.wB)(function(){return n.memberMusicId},function(e){e&&f()});var f=function(){var e=(0,l.A)((0,r.A)().m(function e(){var l,u,o;return(0,r.A)().w(function(e){while(1)switch(e.n){case 0:return s.value=!0,e.n=1,h.from("artists").select("\n      *,\n      albums:albums(count),\n      songs:songs(count)\n    ").eq("member_id",n.memberMusicId);case 1:l=e.v,u=l.data,o=l.error,o?a.value=o.message:t.value=u.map(function(e){var n,t;return{id:e.id,name:e.name,albumCount:(null===(n=e.albums[0])||void 0===n?void 0:n.count)||0,songCount:(null===(t=e.songs[0])||void 0===t?void 0:t.count)||0}}),s.value=!1;case 2:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}(),b=function(){c.value=!1,f()};return function(a,r){return(0,u.uX)(),(0,u.CE)("div",null,[e.isOwner?((0,u.uX)(),(0,u.CE)("div",_e,[(0,u.Lk)("button",{class:"btn btn-large font-large ombre-overlay mt-n8",onClick:r[0]||(r[0]=function(e){return c.value=!0}),style:(0,i.Tr)(d.value)}," +   Add Artist ",4)])):(0,u.Q3)("",!0),c.value?((0,u.uX)(),(0,u.Wv)(ye,{key:1,memberMusicId:e.memberMusicId,onCancel:r[1]||(r[1]=function(e){return c.value=!1}),onAdded:b},null,8,["memberMusicId"])):(0,u.Q3)("",!0),(0,u.Lk)("div",{class:"card mt-n6",style:(0,i.Tr)({backgroundColor:m.value})},[(0,u.Lk)("div",Le,[(0,u.Lk)("div",Ce,[(0,u.Lk)("table",xe,[(0,u.Lk)("thead",null,[(0,u.Lk)("tr",null,[(0,u.Lk)("th",{style:(0,i.Tr)({color:v.value})},"Artist",4),(0,u.Lk)("th",{style:(0,i.Tr)({color:v.value})},"Albums",4),(0,u.Lk)("th",{style:(0,i.Tr)({color:v.value})},"Songs",4),Ae])]),(0,u.Lk)("tbody",null,[s.value?((0,u.uX)(),(0,u.CE)("tr",Ee,Te)):(0,u.Q3)("",!0),((0,u.uX)(!0),(0,u.CE)(u.FK,null,(0,u.pI)(t.value,function(t){var r,l,o;return(0,u.uX)(),(0,u.CE)("tr",{key:t.id,class:"table-row-hover",style:(0,i.Tr)({backgroundColor:m.value,color:null===(r=n.theme)||void 0===r?void 0:r.dark_one})},[(0,u.Lk)("td",null,(0,i.v_)(t.name),1),(0,u.Lk)("td",null,(0,i.v_)(t.albumCount)+" Album"+(0,i.v_)(1!==t.albumCount?"s":""),1),(0,u.Lk)("td",null,(0,i.v_)(t.songCount)+" Song"+(0,i.v_)(1!==t.songCount?"s":""),1),(0,u.Lk)("td",null,[(0,u.Lk)("button",{class:"btn btn-outline",onClick:function(n){return a.$router.push("/artists/".concat(e.memberMusicId,"/").concat(t.id))},style:(0,i.Tr)({color:null===(l=n.theme)||void 0===l?void 0:l.dark_one,border:"solid 1px "+(null===(o=n.theme)||void 0===o?void 0:o.dark_one)})},(0,i.v_)(e.isOwner?"Rank":"View Rankings"),13,Se)])],4)}),128)),s.value||0!==t.value.length?(0,u.Q3)("",!0):((0,u.uX)(),(0,u.CE)("tr",Re,Ie))])])]),(0,u.Lk)("div",We,[s.value?((0,u.uX)(),(0,u.CE)("div",Ve,Qe)):0===t.value.length?((0,u.uX)(),(0,u.CE)("div",Ue," No artists found. ")):((0,u.uX)(),(0,u.CE)("div",qe,[((0,u.uX)(!0),(0,u.CE)(u.FK,null,(0,u.pI)(t.value,function(t){var r,l,o;return(0,u.uX)(),(0,u.CE)("div",{key:t.id,class:"d-flex justify-content-between align-items-center border-bottom py-2",style:(0,i.Tr)({color:null===(r=n.theme)||void 0===r?void 0:r.dark_one})},[(0,u.Lk)("div",null,[(0,u.Lk)("strong",null,(0,i.v_)(t.name),1),(0,u.Lk)("div",Fe,[(0,u.eW)((0,i.v_)(t.albumCount)+" album"+(0,i.v_)(1!==t.albumCount?"s":""),1),Me,(0,u.eW)(" "+(0,i.v_)(t.songCount)+" song"+(0,i.v_)(1!==t.songCount?"s":""),1)])]),(0,u.Lk)("button",{class:"btn btn-outline btn-sm",onClick:function(n){return a.$router.push("/artists/".concat(e.memberMusicId,"/").concat(t.id))},style:(0,i.Tr)({color:null===(l=n.theme)||void 0===l?void 0:l.dark_one,border:"1px solid "+(null===(o=n.theme)||void 0===o?void 0:o.dark_one)})},(0,i.v_)(e.isOwner?"Rank":"View"),13,Pe)],4)}),128))]))])])],4)])}}};var Oe=t(6262);const ze=(0,Oe.A)(Ne,[["__scopeId","data-v-1610f33e"]]),Be=ze;var De={key:0,class:"container-fluid"},Ye={class:"row"},Je={class:"col-12"};const $e={__name:"TablesView",setup:function(e){var n=(0,c.lq)(),t=(0,s.Pj)(),a=(0,c.rd)(),d=(0,u.EW)(function(){return t.state.user}),v=(0,u.EW)(function(){return n.params.memberId}),m=(0,o.KR)(null),f=(0,o.KR)(!1),b=function(){var e=(0,l.A)((0,r.A)().m(function e(n){var l,u,o;return(0,r.A)().w(function(e){while(1)switch(e.n){case 0:return e.n=1,h.from("members").select("*, themes(*)").eq("music_id",v.value).or("is_private.eq.false,member_id.eq.".concat(n)).single();case 1:l=e.v,u=l.data,o=l.error,!o&&u?(m.value=u,f.value=n===u.member_id,t.commit("setTheme",u.themes),t.commit("setThemeSource",f.value?"self":"viewed")):a.push("/forbidden");case 2:return e.a(2)}},e)}));return function(n){return e.apply(this,arguments)}}();return(0,u.wB)(d,function(){var e=(0,l.A)((0,r.A)().m(function e(n){return(0,r.A)().w(function(e){while(1)switch(e.n){case 0:if(null===n||void 0===n||!n.id){e.n=1;break}return e.n=1,b(n.id);case 1:return e.a(2)}},e)}));return function(n){return e.apply(this,arguments)}}(),{immediate:!0}),(0,u.wB)(v,(0,l.A)((0,r.A)().m(function e(){var n;return(0,r.A)().w(function(e){while(1)switch(e.n){case 0:if(null===(n=d.value)||void 0===n||!n.id){e.n=1;break}return e.n=1,b(d.value.id);case 1:return e.a(2)}},e)}))),(0,u.sV)((0,l.A)((0,r.A)().m(function e(){var n,a;return(0,r.A)().w(function(e){while(1)switch(e.n){case 0:if(d.value){e.n=2;break}return e.n=1,h.auth.getUser();case 1:if(n=e.v,a=n.data,null===a||void 0===a||!a.user){e.n=2;break}return t.commit("setUser",a.user),e.n=2,b(a.user.id);case 2:return e.a(2)}},e)}))),function(e,n){var t,a,r,l;return m.value?((0,u.uX)(),(0,u.CE)("div",De,[(0,u.Lk)("div",{class:"page-header min-height-200",style:(0,i.Tr)({backgroundImage:null!==(t=m.value)&&void 0!==t&&null!==(t=t.themes)&&void 0!==t&&t.header?"url(".concat(m.value.themes.header,")"):"",backgroundSize:"cover",backgroundPosition:"center",marginRight:"-24px",marginLeft:"-34%",marginTop:"-5%",position:"relative"})},[(0,u.Lk)("span",{class:"mask",style:(0,i.Tr)({backgroundColor:(null===(a=m.value)||void 0===a||null===(a=a.themes)||void 0===a?void 0:a.dark_one)||"#000",opacity:.3,position:"absolute",top:0,right:0,bottom:0,left:0})},null,4)],4),(0,u.Lk)("div",Ye,[(0,u.Lk)("div",Je,[(0,u.bF)(Be,{memberMusicId:null===(r=m.value)||void 0===r?void 0:r.music_id,theme:null===(l=m.value)||void 0===l?void 0:l.themes,isOwner:f.value},null,8,["memberMusicId","theme","isOwner"])])])])):(0,u.Q3)("",!0)}}},Ge=$e,He=Ge;var Ze={class:"form-group"},en={key:0,class:"input-group-text"},nn=["id","type","name","value","placeholder","isRequired"],tn={key:1,class:"input-group-text"};const an={__name:"ArgonInput",props:{size:{type:String,default:"default"},success:{type:Boolean,default:!1},error:{type:Boolean,default:!1},icon:{type:String,default:""},iconDir:{type:String,default:""},name:{type:String,default:""},id:{type:String,default:""},modelValue:{type:String,default:""},placeholder:{type:String,default:""},type:{type:String,default:"text"},isRequired:{type:Boolean,default:!1}},emits:["update:modelValue"],setup:function(e,n){var t=n.emit,a=t,r=function(e,n,t){var a,r;return a=e?"form-control-".concat(e):null,r=t?"is-invalid":n?"is-valid":"","".concat(a," ").concat(r)},l=function(e){return e||null},o=function(e){return e?"input-group":null};return function(n,t){return(0,u.uX)(),(0,u.CE)("div",Ze,[(0,u.Lk)("div",{class:(0,i.C4)(o(e.icon))},["left"===e.iconDir?((0,u.uX)(),(0,u.CE)("span",en,[(0,u.Lk)("i",{class:(0,i.C4)(l(e.icon))},null,2)])):(0,u.Q3)("",!0),(0,u.Lk)("input",{id:e.id,type:e.type,class:(0,i.C4)(["form-control",r(e.size,e.success,e.error)]),name:e.name,value:e.modelValue,placeholder:e.placeholder,isRequired:e.isRequired,onInput:t[0]||(t[0]=function(e){return a("update:modelValue",e.target.value)})},null,42,nn),"right"===e.iconDir?((0,u.uX)(),(0,u.CE)("span",tn,[(0,u.Lk)("i",{class:(0,i.C4)(l(e.icon))},null,2)])):(0,u.Q3)("",!0)],2)])}}},rn=an,ln=rn;var un=function(e){return(0,u.Qi)("data-v-6441c67b"),e=e(),(0,u.jt)(),e},on={class:"container-fluid"},sn={class:"card-body p-3 d-inline-flex justify-content-between"},cn={class:"h-100 px-4"},dn={class:"mb-1"},vn=un(function(){return(0,u.Lk)("p",{class:"mb-0 font-weight-bold text-sm"},"Customize your profile and theme",-1)}),mn={class:"py-4 container-fluid"},fn={class:"card-body"},bn={class:"row"},kn={class:"col-md-6"},hn=un(function(){return(0,u.Lk)("label",{class:"form-control-label"},"Username",-1)}),pn=un(function(){return(0,u.Lk)("hr",{class:"horizontal dark"},null,-1)}),gn={class:"col-md-6 mt-3"},yn=un(function(){return(0,u.Lk)("label",{class:"form-control-label"},"Private Profile",-1)}),wn={class:"form-check form-switch"},_n={class:"form-check-label",for:"privateSwitch"},Ln=un(function(){return(0,u.Lk)("hr",{class:"horizontal dark"},null,-1)}),Cn=un(function(){return(0,u.Lk)("p",{class:"text-uppercase text-sm"},"Choose Your Theme",-1)}),xn={class:"row"},An=["onClick"],En=["src","alt"],Xn={class:"d-block mt-2"},Tn={class:"text-end"},Sn={key:0,class:"text-danger mt-3"},Rn={key:1,class:"text-success mt-3"};const Kn={__name:"ProfileView",setup:function(e){var n=(0,s.Pj)(),t=(0,c.rd)(),d=(0,u.EW)(function(){return n.state.user}),v=(0,u.EW)(function(){return n.state.member}),m=(0,o.KR)([]),f=(0,o.KR)(null),b=(0,o.KR)(""),k=(0,o.KR)(""),p=(0,o.KR)(""),g=(0,o.KR)(!1);(0,u.wB)(v,function(e){e&&(b.value=e.member_name,f.value=e.theme_id)},{immediate:!0}),(0,u.sV)((0,l.A)((0,r.A)().m(function e(){var t,a,l,u,o,i,s;return(0,r.A)().w(function(e){while(1)switch(e.n){case 0:if(n.state.isAbsolute=!0,n.state.imageLayout="profile-overview",n.state.showFooter=!0,n.state.hideConfigButton=!0,document.body.classList.add("profile-overview"),v.value&&d.value){e.n=3;break}return e.n=1,h.auth.getUser();case 1:if(t=e.v,a=t.data,null===a||void 0===a||!a.user){e.n=3;break}return n.commit("setUser",a.user),e.n=2,h.from("members").select("*, themes(*)").eq("member_id",a.user.id).single();case 2:l=e.v,u=l.data,u&&(n.commit("setMember",u),n.commit("setTheme",u.themes),n.commit("setThemeSource","self"));case 3:return e.n=4,h.from("themes").select("*");case 4:o=e.v,i=o.data,s=o.error,s||(m.value=i);case 5:return e.a(2)}},e)})));var y=function(){var e=(0,l.A)((0,r.A)().m(function e(){var t,a,l;return(0,r.A)().w(function(e){while(1)switch(e.n){case 0:if(p.value="",k.value="",b.value.trim()&&f.value){e.n=1;break}return p.value="Username and theme are required.",e.a(2);case 1:return e.n=2,h.from("members").update({member_name:b.value,theme_id:f.value,is_private:g.value}).eq("member_id",d.value.id).select("*, themes(*)").single();case 2:t=e.v,a=t.error,l=t.data,a?p.value=a.message:(n.commit("setMember",l),k.value="Profile updated!",window.location.reload());case 3:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}(),w=function(){var e=(0,l.A)((0,r.A)().m(function e(){var a,l,u,o,i,s,c,v,m,f,b,k,p;return(0,r.A)().w(function(e){while(1)switch(e.n){case 0:if(l=confirm("Are you sure? This will delete all your music data permanently."),l){e.n=1;break}return e.a(2);case 1:return u=null===(a=d.value)||void 0===a?void 0:a.id,e.n=2,h.from("members").select("*").eq("member_id",u).single();case 2:if(o=e.v,i=o.data,s=o.error,!s&&i){e.n=3;break}return console.error("Member not found:",s),e.a(2);case 3:return c=i.music_id,e.n=4,h.from("artists").select("id").eq("member_id",c);case 4:return v=e.v,m=v.data,f=m.map(function(e){return e.id}),e.n=5,h.from("albums").select("id")["in"]("artist_id",f);case 5:return b=e.v,k=b.data,p=k.map(function(e){return e.id}),e.n=6,h.from("songs")["delete"]()["in"]("album_id",p);case 6:return e.n=7,h.from("albums")["delete"]()["in"]("id",p);case 7:return e.n=8,h.from("artists")["delete"]()["in"]("id",f);case 8:return e.n=9,h.from("members")["delete"]().eq("member_id",u);case 9:return e.n=10,h.auth.admin.deleteUser(u);case 10:return alert("All data deleted. You may login with your email at any time to create a new profile."),e.n=11,h.auth.signOut();case 11:n.commit("clearAuth"),t.push("/signin");case 12:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}();return(0,u.wB)(v,function(e){e&&(b.value=e.member_name,f.value=e.theme_id,g.value=e.is_private||!1,n.commit("setTheme",e.themes),n.commit("setThemeSource","self"))},{immediate:!0}),function(e,n){var t,r,l,o,s,c,d,h;return(0,u.uX)(),(0,u.CE)("main",null,[(0,u.Lk)("div",on,[(0,u.Lk)("div",{class:"page-header min-height-250",style:(0,i.Tr)({backgroundImage:null!==(t=v.value)&&void 0!==t&&null!==(t=t.themes)&&void 0!==t&&t.header?"url(".concat(v.value.themes.header,")"):"",backgroundSize:"cover",backgroundPosition:"center",marginRight:"-24px",marginLeft:"-34%",marginTop:"-5%",position:"relative"})},null,4),(0,u.Lk)("div",{class:"card shadow-lg mt-n8",style:(0,i.Tr)({backgroundColor:(null===(r=v.value)||void 0===r||null===(r=r.themes)||void 0===r?void 0:r.light_one)||"#f5f5f5"})},[(0,u.Lk)("div",sn,[(0,u.Lk)("div",cn,[(0,u.Lk)("h5",dn,(0,i.v_)((null===(l=v.value)||void 0===l?void 0:l.member_name)||"..."),1),vn]),(0,u.Lk)("div",null,[(0,u.Lk)("button",{class:"btn",style:(0,i.Tr)({backgroundColor:(null===(o=v.value)||void 0===o||null===(o=o.themes)||void 0===o?void 0:o.dark_two)||"#f5f5f5",color:null===(s=v.value)||void 0===s||null===(s=s.themes)||void 0===s?void 0:s.light_one}),onClick:w}," Delete My Account ",4)])])],4)]),(0,u.Lk)("div",mn,[(0,u.Lk)("div",{class:"card",style:(0,i.Tr)({backgroundColor:(null===(c=v.value)||void 0===c||null===(c=c.themes)||void 0===c?void 0:c.light_one)||"#f5f5f5"})},[(0,u.Lk)("div",fn,[(0,u.Lk)("div",bn,[(0,u.Lk)("div",kn,[hn,(0,u.bF)(ln,{modelValue:b.value,"onUpdate:modelValue":n[0]||(n[0]=function(e){return b.value=e}),type:"text"},null,8,["modelValue"])])]),pn,(0,u.Lk)("div",gn,[yn,(0,u.Lk)("div",wn,[(0,u.bo)((0,u.Lk)("input",{class:"form-check-input",type:"checkbox",id:"privateSwitch","onUpdate:modelValue":n[1]||(n[1]=function(e){return g.value=e})},null,512),[[a.lH,g.value]]),(0,u.Lk)("label",_n,(0,i.v_)(g.value?"Your profile is hidden from others":"Your profile is visible to others"),1)])]),Ln,(0,u.Lk)("div",null,[Cn,(0,u.Lk)("div",xn,[((0,u.uX)(!0),(0,u.CE)(u.FK,null,(0,u.pI)(m.value,function(e){return(0,u.uX)(),(0,u.CE)("div",{key:e.id,class:"col-md-3 text-center mb-4"},[(0,u.Lk)("div",{class:(0,i.C4)(["theme-circle",f.value===e.id?"border border-dark border-3":""]),style:{cursor:"pointer"},onClick:function(n){return f.value=e.id}},[(0,u.Lk)("img",{src:e.image,class:"img-fluid rounded-circle",style:{width:"70px",height:"70px","object-fit":"cover"},alt:e.title},null,8,En)],10,An),(0,u.Lk)("small",Xn,(0,i.v_)(e.title),1)])}),128))])]),(0,u.Lk)("div",Tn,[(0,u.Lk)("button",{class:"btn ombre-overlay",style:(0,i.Tr)({backgroundColor:(null===(d=v.value)||void 0===d||null===(d=d.themes)||void 0===d?void 0:d.dark_two)||"#f5f5f5",color:null===(h=v.value)||void 0===h||null===(h=h.themes)||void 0===h?void 0:h.light_one}),onClick:y},"Update Profile",4)]),p.value?((0,u.uX)(),(0,u.CE)("div",Sn,(0,i.v_)(p.value),1)):(0,u.Q3)("",!0),k.value?((0,u.uX)(),(0,u.CE)("div",Rn,(0,i.v_)(k.value),1)):(0,u.Q3)("",!0)])],4)])])}}},In=(0,Oe.A)(Kn,[["__scopeId","data-v-6441c67b"]]),Wn=In,Vn={__name:"ArgonButton",props:{color:{type:String,default:"success"},size:{type:String,default:"md"},variant:{type:String,default:"fill"},fullWidth:{type:Boolean,default:!1},active:{type:Boolean,default:!1}},setup:function(e){var n=function(e,n,t,a,r){var l,u,o,i;return l="gradient"===e?"bg-gradient-".concat(n):"outline"===e?"btn-outline-".concat(n):"btn-".concat(n),u=t?"btn-".concat(t):null,o=a?"w-100":null,i=r?"active":null,"".concat(l," ").concat(u," ").concat(o," ").concat(i)};return function(t,a){return(0,u.uX)(),(0,u.CE)("button",{class:(0,i.C4)(["btn mb-0",n(e.variant,e.color,e.size,e.fullWidth,e.active)])},[(0,u.RG)(t.$slots,"default")],2)}}},jn=Vn,Qn=jn;var Un=function(e){return(0,u.Qi)("data-v-4f22d6a9"),e=e(),(0,u.jt)(),e},qn={class:"mt-0 main-content"},Fn={class:"page-header min-vh-100"},Mn={class:"container"},Pn={class:"row"},Nn={class:"mx-auto col-xl-4 col-lg-5 col-md-7 d-flex flex-column mx-lg-0"},On={class:"card card-plain"},zn=Un(function(){return(0,u.Lk)("div",{class:"pb-0 card-header text-start"},[(0,u.Lk)("h4",{class:"font-weight-bolder"},"Sign Up"),(0,u.Lk)("p",{class:"mb-0"},"Create your account below")],-1)}),Bn={class:"card-body"},Dn={role:"form"},Yn={class:"text-center"},Jn={key:0,class:"text-danger text-sm text-center"},$n={key:1,class:"text-success text-sm text-center"},Gn={class:"text-sm mt-3 mb-0"};const Hn={__name:"SignUp",setup:function(e){var n=(0,s.Pj)(),t=(0,c.rd)(),d=(0,o.KR)(""),v=(0,o.KR)(""),m=(0,o.KR)(""),f=(0,o.KR)(""),b=(0,o.KR)("");(0,u.KC)(function(){n.state.layout="auth",n.state.showNavbar=!1}),(0,u.xo)(function(){n.state.layout="default",n.state.showNavbar=!0}),(0,u.sV)((0,l.A)((0,r.A)().m(function e(){var a,l,u;return(0,r.A)().w(function(e){while(1)switch(e.n){case 0:return e.n=1,h.auth.getSession();case 1:if(a=e.v,l=a.data,u=a.error,u||!l.session){e.n=3;break}return e.n=2,n.dispatch("fetchUser");case 2:t.push("/");case 3:return e.a(2)}},e)})));var k=function(){var e=(0,l.A)((0,r.A)().m(function e(){var n,t,a,l;return(0,r.A)().w(function(e){while(1)switch(e.n){case 0:return f.value="",b.value="",e.n=1,h.auth.signUp({email:v.value,password:m.value,options:{data:{full_name:d.value}}});case 1:if(n=e.v,t=n.data,a=n.error,!a){e.n=2;break}f.value=a.message,e.n=4;break;case 2:if(l=t.user,l){e.n=3;break}return f.value="Signup successful. Please confirm your email before logging in.",e.a(2);case 3:b.value="Signup successful! Please check your email to confirm your account.",console.log("User signed up:",l);case 4:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}();return function(e,n){var t=(0,u.g2)("router-link");return(0,u.uX)(),(0,u.CE)("main",qn,[(0,u.Lk)("section",null,[(0,u.Lk)("div",Fn,[(0,u.Lk)("div",Mn,[(0,u.Lk)("div",Pn,[(0,u.Lk)("div",Nn,[(0,u.Lk)("div",On,[zn,(0,u.Lk)("div",Bn,[(0,u.Lk)("form",Dn,[(0,u.bF)(ln,{modelValue:d.value,"onUpdate:modelValue":n[0]||(n[0]=function(e){return d.value=e}),id:"name",type:"text",placeholder:"Name","aria-label":"Name"},null,8,["modelValue"]),(0,u.bF)(ln,{modelValue:v.value,"onUpdate:modelValue":n[1]||(n[1]=function(e){return v.value=e}),id:"email",type:"email",placeholder:"Email","aria-label":"Email"},null,8,["modelValue"]),(0,u.bF)(ln,{modelValue:m.value,"onUpdate:modelValue":n[2]||(n[2]=function(e){return m.value=e}),id:"password",type:"password",placeholder:"Password","aria-label":"Password"},null,8,["modelValue"]),(0,u.Lk)("div",Yn,[(0,u.bF)(Qn,{fullWidth:"",class:"my-4 mb-2 custom-signup-btn",onClick:(0,a.D$)(k,["prevent"])},{default:(0,u.k6)(function(){return[(0,u.eW)(" Sign up ")]}),_:1})]),f.value?((0,u.uX)(),(0,u.CE)("p",Jn,(0,i.v_)(f.value),1)):(0,u.Q3)("",!0),b.value?((0,u.uX)(),(0,u.CE)("p",$n,(0,i.v_)(b.value),1)):(0,u.Q3)("",!0),(0,u.Lk)("p",Gn,[(0,u.eW)(" Already have an account? "),(0,u.bF)(t,{to:"/signin",class:"text-primary fw-bold"},{default:(0,u.k6)(function(){return[(0,u.eW)("Sign In!")]}),_:1})])])])])])])])])])])}}},Zn=(0,Oe.A)(Hn,[["__scopeId","data-v-4f22d6a9"]]),et=Zn;var nt={class:"form-check form-switch ps-0"},tt=["id","name","checked"],at=["for"];const rt={__name:"ArgonSwitch",props:{name:{type:String,required:!0},id:{type:String,required:!0},checked:{type:Boolean,default:!1},labelClass:{type:String,default:""},inputClass:{type:String,default:""}},setup:function(e){return function(n,t){return(0,u.uX)(),(0,u.CE)("div",nt,[(0,u.Lk)("input",{id:e.id,class:(0,i.C4)(["form-check-input ms-0",e.inputClass]),type:"checkbox",name:e.name,checked:e.checked},null,10,tt),(0,u.Lk)("label",{class:(0,i.C4)(["form-check-label",e.labelClass]),for:e.id},[(0,u.RG)(n.$slots,"default")],10,at)])}}},lt=rt,ut=lt;var ot=function(e){return(0,u.Qi)("data-v-0ae20cd1"),e=e(),(0,u.jt)(),e},it={class:"mt-0 main-content"},st={class:"page-header min-vh-100"},ct={class:"container"},dt={class:"row"},vt={key:0,class:"mx-auto col-xl-4 col-lg-5 col-md-7 d-flex flex-column mx-lg-0"},mt={class:"card card-plain"},ft=ot(function(){return(0,u.Lk)("div",{class:"pb-0 card-header text-start"},[(0,u.Lk)("h4",{class:"font-weight-bolder"},"Sign In"),(0,u.Lk)("p",{class:"mb-0"},"Enter your email and password to sign in")],-1)}),bt={class:"card-body"},kt={class:"mb-3"},ht={class:"mb-3"},pt={class:"text-center"},gt={key:0,class:"text-danger mt-2 text-sm"},yt={class:"pt-3"},wt={key:1,class:"mx-auto col-xl-4 col-lg-5 col-md-7 d-flex flex-column mx-lg-0"},_t={class:"card card-plain"},Lt=ot(function(){return(0,u.Lk)("div",{class:"pb-0 card-header text-start"},[(0,u.Lk)("h4",{class:"font-weight-bolder"},"Password Reset"),(0,u.Lk)("p",{class:"mb-0"},"Enter your email to receive a password reset link")],-1)}),Ct={class:"card-body"},xt={class:"mb-3"},At={class:"text-center"},Et={key:0,class:"text-danger mt-2 text-sm"},Xt={class:"mt-4"};const Tt={__name:"SignIn",setup:function(e){var n=(0,s.Pj)(),t=(0,c.rd)(),d=(0,o.KR)(""),v=(0,o.KR)(""),m=(0,o.KR)(""),f=(0,o.KR)(""),b=(0,o.KR)(!1);(0,u.KC)(function(){n.state.layout="auth",n.state.showNavbar=!1}),(0,u.xo)(function(){n.state.layout="default",n.state.showNavbar=!0}),(0,u.sV)((0,l.A)((0,r.A)().m(function e(){var a,l,u;return(0,r.A)().w(function(e){while(1)switch(e.n){case 0:if(!n.state.user){e.n=1;break}return t.push("/"),e.a(2);case 1:return e.n=2,h.auth.getSession();case 2:if(a=e.v,l=a.data,u=a.error,u||!l.session){e.n=4;break}return e.n=3,n.dispatch("fetchUser");case 3:t.push("/");case 4:return e.a(2)}},e)})));var k=function(){var e=(0,l.A)((0,r.A)().m(function e(){var a,l,u,o,i,s,c;return(0,r.A)().w(function(e){while(1)switch(e.n){case 0:return f.value="",e.n=1,h.auth.signInWithPassword({email:d.value,password:m.value});case 1:if(a=e.v,l=a.data,u=a.error,!u){e.n=2;break}return f.value=u.message,e.a(2);case 2:return o=l.user,n.commit("setUser",o),e.n=3,h.from("members").select("*, themes(*)").eq("member_id",o.id).single();case 3:return i=e.v,s=i.data,c=i.error,!c&&s&&n.commit("setMember",s),e.n=4,t.push("/");case 4:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}(),p=function(){var e=(0,l.A)((0,r.A)().m(function e(){var n,t;return(0,r.A)().w(function(e){while(1)switch(e.n){case 0:return f.value="",e.n=1,h.auth.resetPasswordForEmail(v.value,{redirectTo:"http://localhost:8080/resetpassword"});case 1:n=e.v,t=n.error,t?f.value=t.message:(b.value=!1,alert("Check your email for a reset link."));case 2:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}();return function(e,n){var t=(0,u.g2)("router-link");return(0,u.uX)(),(0,u.CE)("main",it,[(0,u.Lk)("section",null,[(0,u.Lk)("div",st,[(0,u.Lk)("div",ct,[(0,u.Lk)("div",dt,[b.value?b.value?((0,u.uX)(),(0,u.CE)("div",wt,[(0,u.Lk)("div",_t,[Lt,(0,u.Lk)("div",Ct,[(0,u.Lk)("form",{role:"form",onSubmit:(0,a.D$)(p,["prevent"])},[(0,u.Lk)("div",xt,[(0,u.bF)(ln,{modelValue:v.value,"onUpdate:modelValue":n[3]||(n[3]=function(e){return v.value=e}),id:"premail",type:"premail",placeholder:"email",name:"premail",size:"lg"},null,8,["modelValue"])]),(0,u.Lk)("div",At,[(0,u.bF)(Qn,{class:"custom-login-btn mt-4",fullWidth:"",size:"lg"},{default:(0,u.k6)(function(){return[(0,u.eW)("Send Password Reset Email")]}),_:1})]),f.value?((0,u.uX)(),(0,u.CE)("div",Et,(0,i.v_)(f.value),1)):(0,u.Q3)("",!0),(0,u.Lk)("div",Xt,[(0,u.Lk)("p",null,[(0,u.Lk)("span",{onClick:n[4]||(n[4]=function(e){return b.value=!1}),class:"text-primary fw-bold pointer"},"Back")])])],32)])])])):(0,u.Q3)("",!0):((0,u.uX)(),(0,u.CE)("div",vt,[(0,u.Lk)("div",mt,[ft,(0,u.Lk)("div",bt,[(0,u.Lk)("form",{role:"form",onSubmit:(0,a.D$)(k,["prevent"])},[(0,u.Lk)("div",kt,[(0,u.bF)(ln,{modelValue:d.value,"onUpdate:modelValue":n[0]||(n[0]=function(e){return d.value=e}),id:"email",type:"email",placeholder:"email",name:"email",size:"lg"},null,8,["modelValue"])]),(0,u.Lk)("div",ht,[(0,u.bF)(ln,{modelValue:m.value,"onUpdate:modelValue":n[1]||(n[1]=function(e){return m.value=e}),id:"password",type:"password",placeholder:"Password",name:"password",size:"lg"},null,8,["modelValue"])]),(0,u.bF)(ut,{id:"rememberMe",name:"remember-me"},{default:(0,u.k6)(function(){return[(0,u.eW)("Remember me")]}),_:1}),(0,u.Lk)("div",pt,[(0,u.bF)(Qn,{class:"custom-login-btn mt-4",fullWidth:"",size:"lg"},{default:(0,u.k6)(function(){return[(0,u.eW)("Sign in")]}),_:1})]),f.value?((0,u.uX)(),(0,u.CE)("div",gt,(0,i.v_)(f.value),1)):(0,u.Q3)("",!0),(0,u.Lk)("div",yt,[(0,u.Lk)("p",null,[(0,u.eW)(" Don't have an account? "),(0,u.bF)(t,{onClick:p,to:"/signup",class:"text-primary fw-bold"},{default:(0,u.k6)(function(){return[(0,u.eW)("Sign Up!")]}),_:1})])]),(0,u.Lk)("div",null,[(0,u.Lk)("p",null,[(0,u.eW)(" Forgot Password? "),(0,u.Lk)("span",{onClick:n[2]||(n[2]=function(e){return b.value=!0}),class:"text-primary fw-bold pointer"},"Reset")])])],32)])])]))])])])])])}}},St=(0,Oe.A)(Tt,[["__scopeId","data-v-0ae20cd1"]]),Rt=St;var Kt=function(e){return(0,u.Qi)("data-v-f7c11b64"),e=e(),(0,u.jt)(),e},It={class:"mt-0 main-content"},Wt={class:"page-header min-vh-100"},Vt={class:"container"},jt={class:"row"},Qt={class:"mx-auto col-xl-4 col-lg-5 col-md-7 d-flex flex-column mx-lg-0"},Ut={class:"card card-plain"},qt=Kt(function(){return(0,u.Lk)("div",{class:"pb-0 card-header text-start"},[(0,u.Lk)("p",{class:"mb-0"},"Enter your new password")],-1)}),Ft={class:"card-body"},Mt={class:"mb-3"},Pt={class:"text-center"},Nt={key:0,class:"text-danger mt-2 text-sm"};const Ot={__name:"ResetPassword",setup:function(e){var n=(0,s.Pj)(),t=(0,c.rd)(),d=(0,o.KR)(""),v=(0,o.KR)("");(0,u.KC)(function(){n.state.layout="auth",n.state.showNavbar=!1}),(0,u.xo)(function(){n.state.layout="default",n.state.showNavbar=!0});var m=function(){var e=(0,l.A)((0,r.A)().m(function e(){var n,a;return(0,r.A)().w(function(e){while(1)switch(e.n){case 0:return v.value="",e.n=1,h.auth.updateUser({password:d.value});case 1:if(n=e.v,a=n.error,!a){e.n=2;break}return v.value=a.message,e.a(2);case 2:return e.n=3,t.push("/signin");case 3:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}();return function(e,n){return(0,u.uX)(),(0,u.CE)("main",It,[(0,u.Lk)("section",null,[(0,u.Lk)("div",Wt,[(0,u.Lk)("div",Vt,[(0,u.Lk)("div",jt,[(0,u.Lk)("div",Qt,[(0,u.Lk)("div",Ut,[qt,(0,u.Lk)("div",Ft,[(0,u.Lk)("form",{role:"form",onSubmit:(0,a.D$)(m,["prevent"])},[(0,u.Lk)("div",Mt,[(0,u.bF)(ln,{modelValue:d.value,"onUpdate:modelValue":n[0]||(n[0]=function(e){return d.value=e}),id:"password",type:"password",placeholder:"Password",name:"password",size:"lg"},null,8,["modelValue"])]),(0,u.Lk)("div",Pt,[(0,u.bF)(Qn,{class:"custom-login-btn mt-4",fullWidth:"",size:"lg"},{default:(0,u.k6)(function(){return[(0,u.eW)("Reset Password")]}),_:1})]),v.value?((0,u.uX)(),(0,u.CE)("div",Nt,(0,i.v_)(v.value),1)):(0,u.Q3)("",!0)],32)])])])])])])])])}}},zt=(0,Oe.A)(Ot,[["__scopeId","data-v-f7c11b64"]]),Bt=zt;var Dt=t(5492),Yt=t(8788),Jt=(t(113),t(6910),t(2577),t(432)),$t=t.n(Jt),Gt=(t(2008),t(1629),t(4782),t(6034),t(4520),t(3949),t(3500),function(e){return(0,u.Qi)("data-v-e96cc756"),e=e(),(0,u.jt)(),e}),Ht={key:0,class:"mb-0"},Zt={class:"table"},ea=Gt(function(){return(0,u.Lk)("thead",null,[(0,u.Lk)("tr",null,[(0,u.Lk)("th",null,"#"),(0,u.Lk)("th",null,"Title"),(0,u.Lk)("th",{class:"d-none d-sm-table-cell"},"Album")])],-1)}),na={class:"text-muted small d-sm-none"},ta={class:"d-none d-sm-table-cell"},aa={key:1},ra={key:0},la=Gt(function(){return(0,u.Lk)("td",{colspan:"3",class:"text-center text-muted py-3"}," No songs ranked yet. ",-1)}),ua=[la],oa={class:"text-muted small d-sm-none"},ia={class:"d-none d-sm-table-cell"},sa={key:0},ca=Gt(function(){return(0,u.Lk)("h6",{class:"mt-4 mb-2"},"Top Unranked Songs Per Album",-1)}),da={class:"d-flex flex-wrap gap-3"},va={class:"card-header py-2 px-3"},ma={class:"list-group list-group-flush h-100"},fa={style:{"font-size":"0.85rem"}},ba=["onClick"],ka={key:1,class:"text-danger m-3"};const ha={__name:"ArtistRankingCard",props:{theme:Object,isOwner:Boolean},setup:function(e){var n=(0,c.lq)(),t=e,a=(0,o.KR)(!1),s=(0,o.KR)(!1),d=(0,o.KR)([]),v=(0,o.KR)([]),m=(0,o.KR)([]),f=(0,o.KR)(null),b=n.params.artistId,k=function(){var e=(0,l.A)((0,r.A)().m(function e(){var n,t,a,l;return(0,r.A)().w(function(e){while(1)switch(e.n){case 0:return e.n=1,h.from("songs").select("*, albums!inner(id, title)").eq("artist_id",b);case 1:if(n=e.v,t=n.data,a=n.error,!a){e.n=2;break}return f.value=a.message,e.a(2);case 2:d.value=t,v.value=t.filter(function(e){return null!=e.artist_ranking}).sort(function(e,n){return e.artist_ranking-n.artist_ranking}),l={},t.forEach(function(e){var n=e.albums.id;l[n]||(l[n]={id:n,title:e.albums.title,songs:[]}),l[n].songs.push(e)}),m.value=Object.values(l);case 3:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}();(0,u.nT)(function(){s.value&&k()});var p=(0,u.EW)(function(){return m.value.map(function(e){var n=e.songs.filter(function(e){return null==e.artist_ranking}).sort(function(e,n){return e.album_ranking-n.album_ranking}).slice(0,4);return(0,Yt.A)((0,Yt.A)({},e),{},{topSongs:n})})}),g=function(){var e=(0,l.A)((0,r.A)().m(function e(n){var t,a,l,u;return(0,r.A)().w(function(e){while(1)switch(e.n){case 0:return t=Math.max.apply(Math,[0].concat((0,Dt.A)(v.value.map(function(e){return e.artist_ranking||0})))),a=t+1,e.n=1,h.from("songs").update({artist_ranking:a}).eq("id",n.id);case 1:if(l=e.v,u=l.error,u){e.n=3;break}return e.n=2,k();case 2:e.n=4;break;case 3:f.value=u.message;case 4:return e.a(2)}},e)}));return function(n){return e.apply(this,arguments)}}(),y=function(){var e=(0,l.A)((0,r.A)().m(function e(){var n,t;return(0,r.A)().w(function(e){while(1)switch(e.n){case 0:n=0;case 1:if(!(n<v.value.length)){e.n=3;break}return t=v.value[n],e.n=2,h.from("songs").update({artist_ranking:n+1}).eq("id",t.id);case 2:n++,e.n=1;break;case 3:return e.n=4,k();case 4:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}(),w=function(){var e=(0,l.A)((0,r.A)().m(function e(){var n,t,a;return(0,r.A)().w(function(e){while(1)switch(e.n){case 0:if(n=window.confirm("Are you sure you want to reset the discography rankings for this artist? This will not affect your individual album rankings."),n){e.n=1;break}return e.a(2);case 1:return e.n=2,h.from("songs").update({artist_ranking:null}).eq("artist_id",b);case 2:if(t=e.v,a=t.error,!a){e.n=3;break}f.value=a.message,e.n=4;break;case 3:return e.n=4,k();case 4:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}();return function(n,r){var l;return e.theme?((0,u.uX)(),(0,u.CE)("div",{key:0,class:"card pb-3 my-4",style:(0,i.Tr)({backgroundColor:e.theme.light_two,color:e.theme.dark_one})},[(0,u.Lk)("div",{class:"card-header d-flex justify-content-between align-items-center",style:(0,i.Tr)({backgroundColor:e.theme.light_two,color:e.theme.dark_one})},[!s.value||s.value&&null!==(l=n.$screen)&&void 0!==l&&l.mdAndUp?((0,u.uX)(),(0,u.CE)("h5",Ht," Entire Ranked Discography ")):(0,u.Q3)("",!0),(0,u.Lk)("div",null,[!a.value&&t.isOwner&&s.value?((0,u.uX)(),(0,u.CE)("button",{key:0,class:"btn btn-sm me-2",style:(0,i.Tr)({backgroundColor:e.theme.dark_two,color:e.theme.light_two}),onClick:r[0]||(r[0]=function(e){return a.value=!0})}," I'm Ready to Rank ",4)):(0,u.Q3)("",!0),a.value&&t.isOwner&&s.value?((0,u.uX)(),(0,u.CE)("button",{key:1,class:"btn btn-sm ms-2 mx-2",style:(0,i.Tr)({backgroundColor:e.theme.dark_two,color:e.theme.light_two}),onClick:w}," Reset Ranking ",4)):(0,u.Q3)("",!0),a.value&&t.isOwner&&s.value?((0,u.uX)(),(0,u.CE)("button",{key:2,class:"btn btn-sm",style:(0,i.Tr)({backgroundColor:e.theme.dark_two,color:e.theme.light_two}),onClick:r[1]||(r[1]=function(e){return a.value=!1})}," Done Ranking ",4)):(0,u.Q3)("",!0),a.value?(0,u.Q3)("",!0):((0,u.uX)(),(0,u.CE)("button",{key:3,class:"btn btn-sm ombre-overlay fs-6",style:(0,i.Tr)({backgroundColor:e.theme.dark_two,color:e.theme.light_two}),onClick:r[2]||(r[2]=function(e){return s.value=!s.value})},(0,i.v_)(s.value?"-":"+"),5))])],4),s.value?((0,u.uX)(),(0,u.CE)("div",{key:0,class:"card-body",style:(0,i.Tr)({backgroundColor:e.theme.light_two,color:e.theme.dark_one})},[(0,u.Lk)("table",Zt,[ea,a.value&&t.isOwner?((0,u.uX)(),(0,u.Wv)((0,o.R1)($t()),{key:0,modelValue:v.value,"onUpdate:modelValue":r[3]||(r[3]=function(e){return v.value=e}),"item-key":"id",tag:"tbody",onEnd:y},{item:(0,u.k6)(function(e){var n=e.element,t=e.index;return[(0,u.Lk)("tr",null,[(0,u.Lk)("td",null,(0,i.v_)(t+1),1),(0,u.Lk)("td",null,[(0,u.eW)((0,i.v_)(n.title)+" ",1),(0,u.Lk)("div",na,(0,i.v_)(n.albums.title),1)]),(0,u.Lk)("td",ta,(0,i.v_)(n.albums.title),1)])]}),_:1},8,["modelValue"])):((0,u.uX)(),(0,u.CE)("tbody",aa,[0===v.value.length?((0,u.uX)(),(0,u.CE)("tr",ra,ua)):(0,u.Q3)("",!0),((0,u.uX)(!0),(0,u.CE)(u.FK,null,(0,u.pI)(v.value,function(e,n){return(0,u.uX)(),(0,u.CE)("tr",{key:e.id},[(0,u.Lk)("td",null,(0,i.v_)(n+1),1),(0,u.Lk)("td",null,[(0,u.eW)((0,i.v_)(e.title)+" ",1),(0,u.Lk)("div",oa,(0,i.v_)(e.albums.title),1)]),(0,u.Lk)("td",ia,(0,i.v_)(e.albums.title),1)])}),128))]))]),a.value&&t.isOwner?((0,u.uX)(),(0,u.CE)("div",sa,[ca,(0,u.Lk)("div",da,[((0,u.uX)(!0),(0,u.CE)(u.FK,null,(0,u.pI)(p.value,function(n){return(0,u.uX)(),(0,u.CE)("div",{key:n.id,class:"card small-album-card",style:(0,i.Tr)({backgroundColor:e.theme.light_two,color:e.theme.dark_one,minWidth:"200px",maxWidth:"240px"})},[(0,u.Lk)("div",va,[(0,u.Lk)("strong",null,(0,i.v_)(n.title),1)]),(0,u.Lk)("ul",ma,[((0,u.uX)(!0),(0,u.CE)(u.FK,null,(0,u.pI)(n.topSongs,function(e,n){return(0,u.uX)(),(0,u.CE)("li",{key:e.id,class:(0,i.C4)(["list-group-item d-flex justify-content-between align-items-center py-1 px-2 h-100",{"text-muted":3===n,"bg-light":3===n}])},[(0,u.Lk)("span",fa,"#"+(0,i.v_)(e.album_ranking)+" - "+(0,i.v_)(e.title),1),n<3?((0,u.uX)(),(0,u.CE)("button",{key:0,class:"btn btn-sm btn-outline-success my-auto py-0 px-2",style:{"font-size":"0.75rem"},onClick:function(n){return g(e)}}," + ",8,ba)):(0,u.Q3)("",!0)],2)}),128))])],4)}),128))])])):(0,u.Q3)("",!0)],4)):(0,u.Q3)("",!0),f.value?((0,u.uX)(),(0,u.CE)("p",ka,(0,i.v_)(f.value),1)):(0,u.Q3)("",!0)],4)):(0,u.Q3)("",!0)}}},pa=(0,Oe.A)(ha,[["__scopeId","data-v-e96cc756"]]),ga=pa;var ya=function(e){return(0,u.Qi)("data-v-8e0b6dfa"),e=e(),(0,u.jt)(),e},wa={key:0,class:"container-fluid py-4"},_a={class:"card-body d-flex flex-wrap align-items-center justify-content-between"},La={class:"mb-0"},Ca=ya(function(){return(0,u.Lk)("span",{class:"d-none d-md-inline"},"Back to Artists",-1)}),xa={class:"row mb-4"},Aa={class:"col-12"},Ea={class:"card-body"},Xa={class:"row align-items-center"},Ta=ya(function(){return(0,u.Lk)("div",{class:"col-12 col-md-6"},[(0,u.Lk)("h5",{class:"card-title mb-2 mb-md-0"},"Album Ranking")],-1)}),Sa={class:"col-12 col-md-6 text-md-end"},Ra={key:0},Ka={key:1,class:"mt-2 mt-md-0"},Ia={class:"d-flex justify-content-end gap-2"},Wa=ya(function(){return(0,u.Lk)("i",{class:"fas fa-grip-lines text-muted"},null,-1)}),Va={key:1,class:"list-group"},ja={class:"row"},Qa={key:0,class:"col-12"},Ua={class:"row"},qa={class:"card-body position-relative"},Fa={class:"card-title"},Ma=["onClick"],Pa=ya(function(){return(0,u.Lk)("i",{class:"fas fa-trash"},null,-1)}),Na=[Pa],Oa={class:"d-flex align-items-center"},za=["onClick"],Ba=ya(function(){return(0,u.Lk)("i",{class:"fas fa-times"},null,-1)}),Da=[Ba],Ya={class:"d-flex align-items-center gap-2"},Ja=["onClick"],$a={key:0,class:"me-1"},Ga=ya(function(){return(0,u.Lk)("i",{class:"fas fa-sticky-note"},null,-1)}),Ha=ya(function(){return(0,u.Lk)("i",{class:"fas fa-grip-lines text-muted"},null,-1)}),Za={key:2,class:"list-group list-group-flush mb-3"},er=["onClick"],nr=ya(function(){return(0,u.Lk)("i",{class:"fas fa-sticky-note"},null,-1)}),tr=[nr],ar={key:3,class:"text-muted mb-2"},rr={key:4},lr=["onClick"],ur={key:1},or=["onUpdate:modelValue","onKeyup"],ir={class:"d-flex justify-content-start gap-2"},sr=["onClick"],cr=["onClick"],dr={key:0,class:"modal fade show d-block",tabindex:"-1",style:{background:"rgba(0,0,0,0.5)"}},vr={class:"modal-dialog"},mr={class:"modal-header"},fr=ya(function(){return(0,u.Lk)("h5",{class:"modal-title"},"Song Note",-1)}),br={class:"modal-body"},kr=["readonly"],hr={class:"modal-footer"},pr={key:0,class:"mt-4 text-end"},gr={key:1,class:"text-danger mt-3"};const yr={__name:"ArtistDetail",setup:function(e){var n=(0,s.Pj)(),t=(0,c.lq)(),d=(0,c.rd)(),v=t.params.memberId,m=t.params.artistId,f=(0,u.EW)(function(){return n.state.user}),b=(0,u.EW)(function(){return n.state.member}),k=(0,u.EW)(function(){return!!f.value}),p=(0,u.EW)(function(){return k.value&&b.value&&b.value.music_id==v}),g=(0,o.KR)(null),y=(0,o.KR)(null),w=(0,o.KR)([]),_=(0,o.KR)(""),L=(0,o.KR)(null),C=(0,o.KR)(!1),x=(0,o.KR)(!1),A=(0,o.KR)(null),E=(0,o.KR)(""),X=function(){var e=(0,l.A)((0,r.A)().m(function e(){var n,t,a;return(0,r.A)().w(function(e){while(1)switch(e.n){case 0:return e.n=1,h.from("albums").select("*, songs(*)").eq("artist_id",m);case 1:n=e.v,t=n.data,a=n.error,a?L.value=a.message:(w.value=t.map(function(e){return(0,Yt.A)((0,Yt.A)({},e),{},{newSongName:"",addingSong:!1,songs:(0,Dt.A)(e.songs||[]).sort(function(e,n){var t,a;return(null!==(t=e.album_ranking)&&void 0!==t?t:999)-(null!==(a=n.album_ranking)&&void 0!==a?a:999)})})}),T());case 2:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}(),T=function(){w.value.sort(function(e,n){var t,a;return(null!==(t=e.album_ranking)&&void 0!==t?t:999)-(null!==(a=n.album_ranking)&&void 0!==a?a:999)})},S=function(){var e=(0,l.A)((0,r.A)().m(function e(n){var t,a;return(0,r.A)().w(function(e){while(1)switch(e.n){case 0:t=0;case 1:if(!(t<n.songs.length)){e.n=3;break}return a=n.songs[t],e.n=2,h.from("songs").update({album_ranking:t+1}).eq("id",a.id);case 2:t++,e.n=1;break;case 3:return e.n=4,X();case 4:return e.a(2)}},e)}));return function(n){return e.apply(this,arguments)}}(),R=function(){var e=(0,l.A)((0,r.A)().m(function e(){var n,t;return(0,r.A)().w(function(e){while(1)switch(e.n){case 0:n=0;case 1:if(!(n<w.value.length)){e.n=3;break}return t=w.value[n],e.n=2,h.from("albums").update({album_ranking:n+1}).eq("id",t.id);case 2:n++,e.n=1;break;case 3:return e.n=4,X();case 4:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}(),K=function(){var e=(0,l.A)((0,r.A)().m(function e(){var n,t,a;return(0,r.A)().w(function(e){while(1)switch(e.n){case 0:if(_.value.trim()){e.n=1;break}return e.a(2);case 1:return n=Math.max.apply(Math,(0,Dt.A)(w.value.map(function(e){return e.album_ranking||0})).concat([0])),e.n=2,h.from("albums").insert([{title:_.value,artist_id:m,member_id:v,album_ranking:n+1}]);case 2:if(t=e.v,a=t.error,a){e.n=4;break}return _.value="",C.value=!1,e.n=3,X();case 3:e.n=5;break;case 4:L.value=a.message;case 5:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}(),I=function(){var e=(0,l.A)((0,r.A)().m(function e(n,t){var a,l,u,o,i;return(0,r.A)().w(function(e){while(1)switch(e.n){case 0:if(t.trim()){e.n=1;break}return e.a(2);case 1:if(a=w.value.find(function(e){return e.id===n}),a){e.n=2;break}return e.a(2);case 2:return l=a.songs.map(function(e){return e.album_ranking||0}),u=Math.max.apply(Math,(0,Dt.A)(l).concat([0])),e.n=3,h.from("songs").insert([{title:t,album_id:n,artist_id:m,member_id:v,album_ranking:u+1}]);case 3:if(o=e.v,i=o.error,i){e.n=5;break}return e.n=4,X();case 4:e.n=6;break;case 5:L.value=i.message;case 6:return e.a(2)}},e)}));return function(n,t){return e.apply(this,arguments)}}();(0,u.sV)((0,l.A)((0,r.A)().m(function e(){var t,a,l,u,o,i,s,c,k,p,w,_,C,x,A;return(0,r.A)().w(function(e){while(1)switch(e.n){case 0:if(f.value){e.n=2;break}return e.n=1,h.auth.getUser();case 1:l=e.v,u=l.data,null!==u&&void 0!==u&&u.user&&n.commit("setUser",u.user);case 2:if(b.value){e.n=4;break}return e.n=3,h.from("members").select("*").eq("member_id",null===(o=f.value)||void 0===o?void 0:o.id).single();case 3:i=e.v,s=i.data,c=i.error,s?n.commit("setMember",s):c&&(L.value=c.message);case 4:return e.n=5,h.from("artists").select("*").eq("id",m).single();case 5:if(k=e.v,p=k.data,w=k.error,!w&&p){e.n=6;break}return L.value=(null===w||void 0===w?void 0:w.message)||"Artist not found.",e.a(2);case 6:return g.value=p,e.n=7,h.from("members").select("*, themes(*)").eq("music_id",v).or("is_private.eq.false,member_id.eq.".concat(null===(t=f.value)||void 0===t?void 0:t.id)).single();case 7:if(_=e.v,C=_.data,x=_.error,!x&&C){e.n=8;break}return d.push("/forbidden"),e.a(2);case 8:return y.value=C,A=(null===(a=f.value)||void 0===a?void 0:a.id)===C.member_id,n.commit("setTheme",C.themes),n.commit("setThemeSource",A?"self":"viewed"),e.n=9,X();case 9:return e.a(2)}},e)})));var W=function(){var e=(0,l.A)((0,r.A)().m(function e(){var n,t,a,l,u,o,i;return(0,r.A)().w(function(e){while(1)switch(e.n){case 0:if(n=confirm("Are you sure you want to delete this artist? This will permanently delete all albums and songs associated with them."),n){e.n=1;break}return e.a(2);case 1:return e.n=2,h.from("songs")["delete"]().eq("artist_id",m);case 2:if(t=e.v,a=t.error,!a){e.n=3;break}return L.value="Error deleting songs: "+a.message,e.a(2);case 3:return e.n=4,h.from("albums")["delete"]().eq("artist_id",m);case 4:if(l=e.v,u=l.error,!u){e.n=5;break}return L.value="Error deleting albums: "+u.message,e.a(2);case 5:return e.n=6,h.from("artists")["delete"]().eq("id",m);case 6:if(o=e.v,i=o.error,!i){e.n=7;break}return L.value="Error deleting artist: "+i.message,e.a(2);case 7:d.push("/");case 8:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}(),V=function(){var e=(0,l.A)((0,r.A)().m(function e(n){var t,a,l,u,o;return(0,r.A)().w(function(e){while(1)switch(e.n){case 0:if(t=confirm("Are you sure you want to delete this album? This will permanently delete the album and all its songs."),t){e.n=1;break}return e.a(2);case 1:return e.n=2,h.from("songs")["delete"]().eq("album_id",n);case 2:if(a=e.v,l=a.error,!l){e.n=3;break}return L.value="Error deleting songs: "+l.message,e.a(2);case 3:return e.n=4,h.from("albums")["delete"]().eq("id",n);case 4:if(u=e.v,o=u.error,!o){e.n=5;break}return L.value="Error deleting album: "+o.message,e.a(2);case 5:return e.n=6,X();case 6:return e.a(2)}},e)}));return function(n){return e.apply(this,arguments)}}(),j=function(){var e=(0,l.A)((0,r.A)().m(function e(n){var t,a,l;return(0,r.A)().w(function(e){while(1)switch(e.n){case 0:if(t=confirm("Are you sure you want to delete this song?"),t){e.n=1;break}return e.a(2);case 1:return e.n=2,h.from("songs")["delete"]().eq("id",n);case 2:if(a=e.v,l=a.error,!l){e.n=3;break}return L.value="Error deleting song: "+l.message,e.a(2);case 3:return e.n=4,X();case 4:return e.a(2)}},e)}));return function(n){return e.apply(this,arguments)}}(),Q=function(e){A.value=e,E.value=e.note||"",x.value=!0},U=function(){var e=(0,l.A)((0,r.A)().m(function e(){var n,t;return(0,r.A)().w(function(e){while(1)switch(e.n){case 0:return e.n=1,h.from("songs").update({note:E.value}).eq("id",A.value.id);case 1:n=e.v,t=n.error,t?console.error(t.message):(A.value.note=E.value,x.value=!1);case 2:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}();return function(e,n){var t,r,l,s,c,m,f,b,k,h,X,T,q,F,M,P,N,O,z;return y.value?((0,u.uX)(),(0,u.CE)("div",wa,[(0,u.Lk)("div",{class:"card mb-1",style:(0,i.Tr)({backgroundColor:(null===(t=y.value)||void 0===t||null===(t=t.themes)||void 0===t?void 0:t.light_one)||"#f5f5f5",color:(null===(r=y.value)||void 0===r||null===(r=r.themes)||void 0===r?void 0:r.dark_one)||"#333"})},[(0,u.Lk)("div",_a,[(0,u.Lk)("h3",La,(0,i.v_)(null===(l=g.value)||void 0===l?void 0:l.name),1),(0,u.Lk)("button",{class:"btn btn-outline my-auto",onClick:n[0]||(n[0]=function(e){return(0,o.R1)(d).push("/members/".concat((0,o.R1)(v),"/tables"))}),style:(0,i.Tr)({border:"solid 1px"+(null===(s=y.value)||void 0===s||null===(s=s.themes)||void 0===s?void 0:s.dark_one),color:null===(c=y.value)||void 0===c||null===(c=c.themes)||void 0===c?void 0:c.dark_one})},[(0,u.eW)(" < "),Ca],4)])],4),(0,u.Lk)("div",xa,[(0,u.Lk)("div",Aa,[(0,u.bF)(ga,{theme:null===(m=y.value)||void 0===m?void 0:m.themes,albums:w.value,isOwner:p.value},null,8,["theme","albums","isOwner"]),(0,u.Lk)("div",{class:"card",style:(0,i.Tr)({backgroundColor:null===(f=y.value)||void 0===f||null===(f=f.themes)||void 0===f?void 0:f.light_one,color:null===(b=y.value)||void 0===b||null===(b=b.themes)||void 0===b?void 0:b.dark_one})},[(0,u.Lk)("div",Ea,[(0,u.Lk)("div",Xa,[Ta,(0,u.Lk)("div",Sa,[p.value&&!C.value?((0,u.uX)(),(0,u.CE)("div",Ra,[(0,u.Lk)("button",{class:"btn ombre-overlay",style:(0,i.Tr)({backgroundColor:null===(k=y.value)||void 0===k||null===(k=k.themes)||void 0===k?void 0:k.dark_two,color:null===(h=y.value)||void 0===h||null===(h=h.themes)||void 0===h?void 0:h.light_one}),onClick:n[1]||(n[1]=function(e){return C.value=!0})}," + Add Album ",4)])):p.value?((0,u.uX)(),(0,u.CE)("div",Ka,[(0,u.bo)((0,u.Lk)("input",{"onUpdate:modelValue":n[2]||(n[2]=function(e){return _.value=e}),type:"text",class:"form-control mb-2",placeholder:"New album name",style:(0,i.Tr)({backgroundColor:(null===(X=y.value)||void 0===X||null===(X=X.themes)||void 0===X?void 0:X.light_two)+"CC",color:null===(T=y.value)||void 0===T||null===(T=T.themes)||void 0===T?void 0:T.dark_one,border:"solid 1px"+(null===(q=y.value)||void 0===q||null===(q=q.themes)||void 0===q?void 0:q.dark_one)})},null,4),[[a.Jo,_.value]]),(0,u.Lk)("div",Ia,[(0,u.Lk)("button",{class:"btn btn-outline",style:(0,i.Tr)({backgroundColor:null===(F=y.value)||void 0===F||null===(F=F.themes)||void 0===F?void 0:F.light_one,color:null===(M=y.value)||void 0===M||null===(M=M.themes)||void 0===M?void 0:M.dark_one,border:"solid 1px"+(null===(P=y.value)||void 0===P||null===(P=P.themes)||void 0===P?void 0:P.dark_one)}),onClick:K}," Add ",4),(0,u.Lk)("button",{class:"btn btn-outline",style:(0,i.Tr)({backgroundColor:null===(N=y.value)||void 0===N||null===(N=N.themes)||void 0===N?void 0:N.light_one,color:null===(O=y.value)||void 0===O||null===(O=O.themes)||void 0===O?void 0:O.dark_one,border:"solid 1px"+(null===(z=y.value)||void 0===z||null===(z=z.themes)||void 0===z?void 0:z.dark_one)}),onClick:n[3]||(n[3]=function(e){return C.value=!1})}," Cancel ",4)])])):(0,u.Q3)("",!0)])]),p.value?((0,u.uX)(),(0,u.Wv)((0,o.R1)($t()),{key:0,modelValue:w.value,"onUpdate:modelValue":n[4]||(n[4]=function(e){return w.value=e}),"item-key":"id",onEnd:R,tag:"ul",class:"list-group"},{item:(0,u.k6)(function(e){var n,t,a=e.element,r=e.index;return[(0,u.Lk)("li",{class:"list-group-item d-flex justify-content-between align-items-center",style:(0,i.Tr)({backgroundColor:null===(n=y.value)||void 0===n||null===(n=n.themes)||void 0===n?void 0:n.light_one,color:null===(t=y.value)||void 0===t||null===(t=t.themes)||void 0===t?void 0:t.dark_one})},[(0,u.Lk)("span",null,"#"+(0,i.v_)(r+1)+" - "+(0,i.v_)(a.title),1),Wa],4)]}),_:1},8,["modelValue"])):((0,u.uX)(),(0,u.CE)("ul",Va,[((0,u.uX)(!0),(0,u.CE)(u.FK,null,(0,u.pI)(w.value,function(e,n){var t,a;return(0,u.uX)(),(0,u.CE)("li",{key:e.id,class:"list-group-item d-flex justify-content-between align-items-center",style:(0,i.Tr)({backgroundColor:null===(t=y.value)||void 0===t||null===(t=t.themes)||void 0===t?void 0:t.light_one,color:null===(a=y.value)||void 0===a||null===(a=a.themes)||void 0===a?void 0:a.dark_one})},[(0,u.Lk)("span",null,"#"+(0,i.v_)(n+1)+" - "+(0,i.v_)(e.title),1)],4)}),128))]))])],4)])]),(0,u.Lk)("div",ja,[w.value.length>0?((0,u.uX)(),(0,u.CE)("div",Qa,[(0,u.Lk)("div",Ua,[((0,u.uX)(!0),(0,u.CE)(u.FK,null,(0,u.pI)(w.value,function(e){var t,r,l,s,c,d,v,m,f,b,k;return(0,u.uX)(),(0,u.CE)("div",{key:e.id,class:"col-md-6 mb-4"},[(0,u.Lk)("div",{class:"card shadow",style:(0,i.Tr)({backgroundColor:null===(t=y.value)||void 0===t||null===(t=t.themes)||void 0===t?void 0:t.light_one,color:null===(r=y.value)||void 0===r||null===(r=r.themes)||void 0===r?void 0:r.dark_one})},[(0,u.Lk)("div",qa,[(0,u.Lk)("h5",Fa,(0,i.v_)(e.title),1),p.value?((0,u.uX)(),(0,u.CE)("button",{key:0,onClick:function(n){return V(e.id)},class:"btn btn-sm btn-outline-danger position-absolute",style:{top:"10px",right:"10px"},title:"Delete Album"},Na,8,Ma)):(0,u.Q3)("",!0),p.value?((0,u.uX)(),(0,u.Wv)((0,o.R1)($t()),{key:1,modelValue:e.songs,"onUpdate:modelValue":function(n){return e.songs=n},"item-key":"id",group:{name:"songs-"+e.id},onEnd:function(n){return S(e)},tag:"ul",class:"list-group list-group-flush mb-3"},{item:(0,u.k6)(function(e){var n,t,a=e.element,r=e.index;return[(0,u.Lk)("li",{class:"list-group-item d-flex justify-content-between align-items-center",style:(0,i.Tr)({backgroundColor:null===(n=y.value)||void 0===n||null===(n=n.themes)||void 0===n?void 0:n.light_one,color:null===(t=y.value)||void 0===t||null===(t=t.themes)||void 0===t?void 0:t.dark_one})},[(0,u.Lk)("div",Oa,[p.value?((0,u.uX)(),(0,u.CE)("button",{key:0,class:"btn btn-sm btn-link text-danger my-auto px-1 me-2",onClick:function(e){return j(a.id)},title:"Delete Song"},Da,8,za)):(0,u.Q3)("",!0),(0,u.Lk)("span",null,"#"+(0,i.v_)(r+1)+" - "+(0,i.v_)(a.title),1)]),(0,u.Lk)("div",Ya,[p.value?((0,u.uX)(),(0,u.CE)("button",{key:0,class:"btn btn-sm btn-link text-muted p-0 mx-2 my-auto",onClick:function(e){return Q(a)}},[a.note?(0,u.Q3)("",!0):((0,u.uX)(),(0,u.CE)("span",$a,"+")),Ga],8,Ja)):(0,u.Q3)("",!0),Ha])],4)]}),_:2},1032,["modelValue","onUpdate:modelValue","group","onEnd"])):((0,u.uX)(),(0,u.CE)("ul",Za,[((0,u.uX)(!0),(0,u.CE)(u.FK,null,(0,u.pI)(e.songs,function(e,n){var t,a;return(0,u.uX)(),(0,u.CE)("li",{key:e.id,class:"list-group-item d-flex justify-content-between align-items-center",style:(0,i.Tr)({backgroundColor:null===(t=y.value)||void 0===t||null===(t=t.themes)||void 0===t?void 0:t.light_one,color:null===(a=y.value)||void 0===a||null===(a=a.themes)||void 0===a?void 0:a.dark_one})},[(0,u.Lk)("span",null,"#"+(0,i.v_)(n+1)+" - "+(0,i.v_)(e.title),1),e.note&&!p.value?((0,u.uX)(),(0,u.CE)("button",{key:0,class:"btn btn-sm btn-link text-muted p-0",onClick:function(n){return Q(e)}},tr,8,er)):(0,u.Q3)("",!0)],4)}),128))])),0===e.songs.length?((0,u.uX)(),(0,u.CE)("div",ar,"No songs yet")):(0,u.Q3)("",!0),p.value?((0,u.uX)(),(0,u.CE)("div",rr,[e.addingSong?(0,u.Q3)("",!0):((0,u.uX)(),(0,u.CE)("button",{key:0,class:"btn btn-outline btn-sm mb-2",style:(0,i.Tr)({border:"solid 1px"+(null===(l=y.value)||void 0===l||null===(l=l.themes)||void 0===l?void 0:l.dark_one)}),onClick:function(n){return e.addingSong=!e.addingSong}}," + Add Song ",12,lr)),e.addingSong?((0,u.uX)(),(0,u.CE)("div",ur,[(0,u.bo)((0,u.Lk)("input",{"onUpdate:modelValue":function(n){return e.newSongName=n},placeholder:"New song title",class:"form-control form-control-sm mb-2",style:(0,i.Tr)({backgroundColor:"white",color:null===(s=y.value)||void 0===s||null===(s=s.themes)||void 0===s?void 0:s.dark_one,border:"solid 1px"+(null===(c=y.value)||void 0===c||null===(c=c.themes)||void 0===c?void 0:c.dark_one)}),onKeyup:(0,a.jR)(function(n){I(e.id,e.newSongName),e.newSongName="",e.addingSong=!1},["enter"])},null,44,or),[[a.Jo,e.newSongName]]),(0,u.Lk)("div",ir,[(0,u.Lk)("button",{class:"btn btn-sm btn-outline",style:(0,i.Tr)({border:"solid 1px"+(null===(d=y.value)||void 0===d||null===(d=d.themes)||void 0===d?void 0:d.dark_one)}),onClick:function(n){I(e.id,e.newSongName),e.newSongName="",e.addingSong=!1}}," Add ",12,sr),(0,u.Lk)("button",{class:"btn btn-sm btn-outline",style:(0,i.Tr)({border:"solid 1px"+(null===(v=y.value)||void 0===v||null===(v=v.themes)||void 0===v?void 0:v.dark_one)}),onClick:function(n){return e.addingSong=!1}}," Cancel ",12,cr)])])):(0,u.Q3)("",!0)])):(0,u.Q3)("",!0)]),x.value?((0,u.uX)(),(0,u.CE)("div",dr,[(0,u.Lk)("div",vr,[(0,u.Lk)("div",{class:"modal-content",style:(0,i.Tr)({backgroundColor:null===(m=y.value)||void 0===m||null===(m=m.themes)||void 0===m?void 0:m.light_one,color:null===(f=y.value)||void 0===f||null===(f=f.themes)||void 0===f?void 0:f.dark_one})},[(0,u.Lk)("div",mr,[fr,(0,u.Lk)("button",{type:"button",class:"btn-close",onClick:n[5]||(n[5]=function(e){return x.value=!1})})]),(0,u.Lk)("div",br,[(0,u.Lk)("p",null,[(0,u.Lk)("strong",null,(0,i.v_)(null===(b=A.value)||void 0===b?void 0:b.title),1)]),(0,u.bo)((0,u.Lk)("textarea",{"onUpdate:modelValue":n[6]||(n[6]=function(e){return E.value=e}),class:"form-control",rows:"4",readonly:!p.value,style:(0,i.Tr)({color:null===(k=y.value)||void 0===k||null===(k=k.themes)||void 0===k?void 0:k.dark_one})},null,12,kr),[[a.Jo,E.value]])]),(0,u.Lk)("div",hr,[(0,u.Lk)("button",{class:"btn btn-secondary",onClick:n[7]||(n[7]=function(e){return x.value=!1})},(0,i.v_)(p.value?"Cancel":"Done"),1),p.value?((0,u.uX)(),(0,u.CE)("button",{key:0,class:"btn btn-primary",onClick:U}," Save ")):(0,u.Q3)("",!0)])],4)])])):(0,u.Q3)("",!0)],4)])}),128))])])):(0,u.Q3)("",!0)]),p.value?((0,u.uX)(),(0,u.CE)("div",pr,[(0,u.Lk)("button",{class:"btn btn-danger",onClick:W}," Delete Artist & All Data ")])):(0,u.Q3)("",!0),L.value?((0,u.uX)(),(0,u.CE)("p",gr,(0,i.v_)(L.value),1)):(0,u.Q3)("",!0)])):(0,u.Q3)("",!0)}}},wr=(0,Oe.A)(yr,[["__scopeId","data-v-8e0b6dfa"]]),_r=wr;var Lr=function(e){return(0,u.Qi)("data-v-5a64d8ed"),e=e(),(0,u.jt)(),e},Cr={class:"d-flex justify-content-center align-items-center min-vh-100"},xr=Lr(function(){return(0,u.Lk)("div",{class:"card shadow rounded-4 p-4",style:{"max-width":"400px",width:"100%"}},[(0,u.Lk)("div",{class:"card-header bg-transparent border-0 text-center"},[(0,u.Lk)("h4",{class:"fw-bold"},"Forbidden!"),(0,u.Lk)("p",{class:"text-muted mb-0"},"You tried to access a forbidden page.")])],-1)}),Ar=[xr];function Er(e,n){return(0,u.uX)(),(0,u.CE)("main",Cr,Ar)}const Xr={},Tr=(0,Oe.A)(Xr,[["render",Er],["__scopeId","data-v-5a64d8ed"]]),Sr=Tr;var Rr={class:"card bg-transparent shadow-xl p-4"},Kr=(0,u.Lk)("h4",{class:"mb-3"},"Before we get started please create your profile - these settings can be changed at any time.",-1),Ir={class:"mb-3"},Wr=(0,u.Lk)("label",{class:"form-label"},"Username",-1),Vr={class:"form-check form-switch mb-3"},jr=(0,u.Lk)("label",{class:"form-check-label",for:"privacySwitch"}," Make my profile private - If you choose this option your rankings will not be visible to others ",-1),Qr={class:"mb-3"},Ur=(0,u.Lk)("label",{class:"form-label"},"Choose a Theme",-1),qr={key:0},Fr=["id","value"],Mr=["for"],Pr={key:1,class:"text-muted"},Nr={key:0,class:"text-danger mt-3"},Or={key:1,class:"text-success mt-3"};const zr={__name:"MemberAddCard",setup:function(e){var n=(0,c.rd)(),t=(0,o.KR)(null),s=(0,o.KR)(""),d=(0,o.KR)([]),v=(0,o.KR)(null),m=(0,o.KR)(!1),f=(0,o.KR)(""),b=(0,o.KR)("");(0,u.sV)((0,l.A)((0,r.A)().m(function e(){var n,a,l,u,o,i,c;return(0,r.A)().w(function(e){while(1)switch(e.n){case 0:return e.n=1,h.auth.getUser();case 1:if(a=e.v,l=a.data,u=a.error,!u&&l.user){e.n=2;break}return f.value="User not found.",e.a(2);case 2:return t.value=l.user,s.value=(null===(n=t.value.user_metadata)||void 0===n?void 0:n.full_name)||"",e.n=3,h.from("themes").select("*");case 3:o=e.v,i=o.data,c=o.error,c?f.value="Failed to load themes.":d.value=i;case 4:return e.a(2)}},e)})));var k=function(){var e=(0,l.A)((0,r.A)().m(function e(){var a,l;return(0,r.A)().w(function(e){while(1)switch(e.n){case 0:if(f.value="",b.value="",v.value&&s.value.trim()){e.n=1;break}return f.value="Please choose a theme and enter a username.",e.a(2);case 1:return e.n=2,h.from("members").insert([{member_id:t.value.id,member_name:s.value,theme_id:v.value,is_private:m.value}]);case 2:a=e.v,l=a.error,l?f.value=l.message:(b.value="Member profile created successfully!",n.push("/profile"));case 3:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}();return function(e,n){return(0,u.uX)(),(0,u.CE)("div",Rr,[Kr,(0,u.Lk)("div",Ir,[Wr,(0,u.bo)((0,u.Lk)("input",{"onUpdate:modelValue":n[0]||(n[0]=function(e){return s.value=e}),type:"text",class:"form-control",placeholder:"Enter a username"},null,512),[[a.Jo,s.value]])]),(0,u.Lk)("div",Vr,[(0,u.bo)((0,u.Lk)("input",{class:"form-check-input",type:"checkbox",id:"privacySwitch","onUpdate:modelValue":n[1]||(n[1]=function(e){return m.value=e})},null,512),[[a.lH,m.value]]),jr]),(0,u.Lk)("div",Qr,[Ur,d.value.length>0?((0,u.uX)(),(0,u.CE)("div",qr,[((0,u.uX)(!0),(0,u.CE)(u.FK,null,(0,u.pI)(d.value,function(e){return(0,u.uX)(),(0,u.CE)("div",{key:e.id,class:"form-check"},[(0,u.bo)((0,u.Lk)("input",{class:"form-check-input",type:"radio",id:"theme-".concat(e.id),value:e.id,"onUpdate:modelValue":n[2]||(n[2]=function(e){return v.value=e})},null,8,Fr),[[a.XL,v.value]]),(0,u.Lk)("label",{class:"form-check-label",for:"theme-".concat(e.id)},(0,i.v_)(e.title),9,Mr)])}),128))])):((0,u.uX)(),(0,u.CE)("div",Pr,"Loading themes..."))]),(0,u.Lk)("div",{class:"text-end"},[(0,u.Lk)("button",{class:"btn btn-primary",onClick:k},"Okay")]),f.value?((0,u.uX)(),(0,u.CE)("div",Nr,(0,i.v_)(f.value),1)):(0,u.Q3)("",!0),b.value?((0,u.uX)(),(0,u.CE)("div",Or,(0,i.v_)(b.value),1)):(0,u.Q3)("",!0)])}}},Br=zr,Dr=Br;var Yr=[{path:"/",name:"RootRedirect",beforeEnter:function(){var e=(0,l.A)((0,r.A)().m(function e(n,t,a){var l,u,o,i;return(0,r.A)().w(function(e){while(1)switch(e.n){case 0:if(l=ie.state.member,u=ie.state.user,null===l||void 0===l||!l.music_id){e.n=1;break}a("/members/".concat(l.music_id,"/tables")),e.n=4;break;case 1:if(null===u||void 0===u||!u.id){e.n=3;break}return e.n=2,h.from("members").select("music_id").eq("member_id",u.id).single();case 2:o=e.v,i=o.data,null!==i&&void 0!==i&&i.music_id?(ie.commit("setMember",i),a("/members/".concat(i.music_id,"/tables"))):a("/create-member"),e.n=4;break;case 3:a("/signin");case 4:return e.a(2)}},e)}));function n(n,t,a){return e.apply(this,arguments)}return n}()},{path:"/create-member",name:"MemberAddCard",component:Dr},{path:"/members/:memberId/tables",name:"Tables",component:He},{path:"/profile",name:"Profile",component:Wn},{path:"/signin",name:"Signin",component:Rt,meta:{hideNavbar:!0}},{path:"/signup",name:"Signup",component:et},{path:"/resetpassword",name:"ResetPassword",component:Bt},{path:"/artists/:memberId/:artistId",name:"ArtistDetail",component:_r,props:!0},{path:"/forbidden",name:"ForbiddenView",component:Sr}],Jr=(0,c.aE)({history:(0,c.LA)("/"),routes:Yr,linkActiveClass:"active"});const $r=Jr;t(3418),t(5276),t(7764),t(6031);const Gr={install:function(){}};var Hr=(0,a.Ef)(oe);Hr.use(ie),Hr.use($r),Hr.use(Gr),Hr.mount("#app")}},n={};function t(a){var r=n[a];if(void 0!==r)return r.exports;var l=n[a]={exports:{}};return e[a].call(l.exports,l,l.exports,t),l.exports}t.m=e,(()=>{var e=[];t.O=(n,a,r,l)=>{if(!a){var u=1/0;for(c=0;c<e.length;c++){for(var[a,r,l]=e[c],o=!0,i=0;i<a.length;i++)(!1&l||u>=l)&&Object.keys(t.O).every(e=>t.O[e](a[i]))?a.splice(i--,1):(o=!1,l<u&&(u=l));if(o){e.splice(c--,1);var s=r();void 0!==s&&(n=s)}}return n}l=l||0;for(var c=e.length;c>0&&e[c-1][2]>l;c--)e[c]=e[c-1];e[c]=[a,r,l]}})(),(()=>{t.n=e=>{var n=e&&e.__esModule?()=>e["default"]:()=>e;return t.d(n,{a:n}),n}})(),(()=>{t.d=(e,n)=>{for(var a in n)t.o(n,a)&&!t.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:n[a]})}})(),(()=>{t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()})(),(()=>{t.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n)})(),(()=>{t.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}})(),(()=>{t.p="/"})(),(()=>{var e={524:0};t.O.j=n=>0===e[n];var n=(n,a)=>{var r,l,[u,o,i]=a,s=0;if(u.some(n=>0!==e[n])){for(r in o)t.o(o,r)&&(t.m[r]=o[r]);if(i)var c=i(t)}for(n&&n(a);s<u.length;s++)l=u[s],t.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return t.O(c)},a=self["webpackChunksong_ranker"]=self["webpackChunksong_ranker"]||[];a.forEach(n.bind(null,0)),a.push=n.bind(null,a.push.bind(a))})();var a=t.O(void 0,[504],()=>t(806));a=t.O(a)})();
//# sourceMappingURL=app.63fc9162.js.map